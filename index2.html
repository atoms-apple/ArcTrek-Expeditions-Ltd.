<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ArcTrek Expeditions Ltd. — Traverse the North. Learn from the Land.</title>
    <meta name="description" content="Inuit-led wilderness expeditions across Nunavut. Uncompromising safety, cultural authenticity, and environmental stewardship.">
    <style>
        /*
        --------------------------------------------------
        CSS: ArcTrek Expeditions Ltd. Style Guide
        --------------------------------------------------
        */

        :root {
            /* Palette */
            --navy: #0A192F; /* Arctic Navy (Background) */
            --aurora: #64FFDA; /* Aurora Green (Accent) */
            --white: #F8F8F8; /* Glacier White (Text/Primary) */
            --tundra: #8892B0; /* Tundra Gray (Secondary Text) */
            --dark-gray: #112240; /* Card Background */
            --red: #FF6464; /* Critical Alert */
            --yellow: #FFD700; /* Warning Alert */
            --blue: #64DAFF; /* Info Alert */

            /* Spacing & Typography */
            --spacing-xs: 4px;
            --spacing-sm: 8px;
            --spacing-md: 16px;
            --spacing-lg: 24px;
            --spacing-xl: 48px;
            --radius-sm: 4px;
            --radius-md: 8px;
            --shadow-md: 0 4px 10px rgba(0, 0, 0, 0.2);
            --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            --font-size-base: 16px;
        }

        /* Base & Reset */
        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-family);
            font-size: var(--font-size-base);
            line-height: 1.6;
            color: var(--white);
            background-color: var(--navy);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Typography */
        h1, h2, h3, h4, h5, h6 {
            line-height: 1.2;
            margin-bottom: var(--spacing-md);
            color: var(--white);
        }

        h1 { font-size: 2.5em; }
        h2 { font-size: 2em; border-bottom: 2px solid var(--dark-gray); padding-bottom: var(--spacing-sm); margin-top: var(--spacing-xl); }
        h3 { font-size: 1.5em; color: var(--aurora); }
        p { margin-bottom: var(--spacing-md); color: var(--tundra); }
        
        a {
            color: var(--aurora);
            text-decoration: none;
            transition: color 0.3s;
        }

        a:hover, a:focus {
            color: var(--white);
        }

        /* Layout & Utilities */
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--spacing-md);
        }

        .section {
            padding: var(--spacing-xl) 0;
            min-height: 50vh; /* Ensure some content on all pages */
        }

        .stack > * + * {
            margin-top: var(--spacing-md);
        }

        .cluster {
            display: flex;
            flex-wrap: wrap;
            gap: var(--spacing-md);
            align-items: center;
        }

        .grid {
            display: grid;
            gap: var(--spacing-md);
        }

        .grid-2 { grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); }
        .grid-3 { grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); }
        .grid-4 { grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); }

        .text-center { text-align: center; }
        .text-right { text-align: right; }
        .text-secondary { color: var(--tundra) !important; }

        /* Header & Navigation */
        #header {
            position: sticky;
            top: 0;
            z-index: 100;
            background-color: var(--navy);
            box-shadow: var(--shadow-md);
            padding: var(--spacing-sm) 0;
            border-bottom: 3px solid var(--aurora);
        }

        #nav-desktop {
            display: none;
        }

        #nav-mobile-toggle {
            display: block;
            background: none;
            border: none;
            color: var(--aurora);
            font-size: 2rem;
            cursor: pointer;
            padding: var(--spacing-sm);
            line-height: 1;
        }

        #nav-mobile-menu {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background-color: var(--navy);
            border-top: 1px solid var(--dark-gray);
            padding: var(--spacing-md) 0;
            box-shadow: var(--shadow-md);
            z-index: 99;
        }

        #nav-mobile-menu.active {
            display: block;
        }

        #nav-mobile-menu a {
            display: block;
            padding: var(--spacing-sm) var(--spacing-md);
            color: var(--white);
            font-weight: bold;
        }
        
        #nav-mobile-menu a:hover, #nav-mobile-menu a:focus {
            background-color: var(--dark-gray);
            color: var(--aurora);
        }
        
        .language-toggle button {
            background: var(--dark-gray);
            color: var(--tundra);
            border: none;
            padding: var(--spacing-xs) var(--spacing-sm);
            border-radius: var(--radius-sm);
            cursor: pointer;
            transition: background 0.3s;
            margin-left: var(--spacing-sm);
        }

        .language-toggle button:hover, .language-toggle button:focus {
            background: var(--aurora);
            color: var(--navy);
        }

        .language-toggle button.active {
            background: var(--aurora);
            color: var(--navy);
            font-weight: bold;
        }

        /* Components */

        /* Buttons */
        .btn {
            display: inline-block;
            padding: var(--spacing-sm) var(--spacing-md);
            border-radius: var(--radius-md);
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            line-height: 1;
        }

        .btn-primary {
            background-color: var(--aurora);
            color: var(--navy);
            border: 2px solid var(--aurora);
        }

        .btn-primary:hover, .btn-primary:focus {
            background-color: var(--white);
            color: var(--navy);
            box-shadow: 0 0 10px var(--aurora);
        }

        .btn-outline {
            background-color: transparent;
            color: var(--aurora);
            border: 2px solid var(--aurora);
        }

        .btn-outline:hover, .btn-outline:focus {
            background-color: var(--aurora);
            color: var(--navy);
        }

        /* Cards */
        .card {
            background-color: var(--dark-gray);
            border-radius: var(--radius-md);
            padding: var(--spacing-md);
            box-shadow: var(--shadow-md);
            transition: transform 0.3s;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .card-route {
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            height: 100%;
        }

        /* Badges/Chips */
        .badge {
            display: inline-block;
            padding: var(--spacing-xs) var(--spacing-sm);
            border-radius: 999px;
            font-size: 0.8em;
            font-weight: bold;
            text-transform: uppercase;
        }

        .badge-easy { background-color: var(--aurora); color: var(--navy); }
        .badge-medium { background-color: var(--blue); color: var(--navy); }
        .badge-expert { background-color: var(--red); color: var(--white); }
        .badge-season { background-color: var(--tundra); color: var(--navy); }
        .badge-logistics { background-color: var(--white); color: var(--navy); }
        
        /* Forms */
        .form-group {
            margin-bottom: var(--spacing-md);
        }

        label {
            display: block;
            margin-bottom: var(--spacing-sm);
            font-weight: bold;
            color: var(--aurora);
        }

        input:not([type="checkbox"]), select, textarea {
            width: 100%;
            padding: var(--spacing-sm);
            border-radius: var(--radius-sm);
            border: 1px solid var(--tundra);
            background-color: var(--navy);
            color: var(--white);
            font-family: inherit;
        }

        input:focus, select:focus, textarea:focus {
            outline: 2px solid var(--aurora);
            border-color: var(--aurora);
        }

        textarea {
            resize: vertical;
            min-height: 100px;
        }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: var(--spacing-lg);
            border: 1px solid var(--dark-gray);
        }

        th, td {
            padding: var(--spacing-sm);
            text-align: left;
            border-bottom: 1px solid var(--dark-gray);
        }

        th {
            background-color: var(--dark-gray);
            color: var(--aurora);
            font-weight: bold;
            position: sticky;
            top: 0;
        }

        /* Zebra striping for table body */
        tbody tr:nth-child(odd) {
            background-color: rgba(136, 146, 176, 0.05); /* Very slight tundra tint */
        }
        
        /* Focus Outline (Accessibility) */
        :focus {
            outline: 3px dashed var(--aurora);
            outline-offset: 2px;
        }
        
        /* Debug Panel */
        #debug-panel {
            position: fixed;
            bottom: 0;
            right: 0;
            width: 300px;
            max-height: 50vh;
            background-color: rgba(0, 0, 0, 0.9);
            border-top: 2px solid var(--red);
            color: var(--tundra);
            font-size: 0.7em;
            z-index: 1000;
            display: flex;
            flex-direction: column;
        }
        
        #debug-header {
            background-color: var(--red);
            color: var(--white);
            padding: var(--spacing-xs);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: bold;
        }
        
        #debug-content {
            overflow-y: auto;
            padding: var(--spacing-xs);
            display: none;
        }
        
        #debug-content.active {
            display: block;
        }
        
        /* Footer */
        #footer {
            padding: var(--spacing-lg) 0;
            background-color: var(--dark-gray);
            border-top: 3px solid var(--aurora);
            margin-top: auto; /* Push to bottom */
            color: var(--tundra);
            font-size: 0.9em;
        }

        #footer a {
            color: var(--tundra);
        }

        #footer a:hover {
            color: var(--aurora);
        }
        
        /* Mobile Breakpoint */
        @media (min-width: 768px) {
            #nav-desktop {
                display: flex;
                align-items: center;
            }

            #nav-desktop ul {
                display: flex;
                list-style: none;
                gap: var(--spacing-md);
                margin: 0;
            }

            #nav-desktop a {
                color: var(--white);
                padding: var(--spacing-sm);
                transition: color 0.3s;
                font-weight: bold;
            }

            #nav-desktop a:hover, #nav-desktop a:focus {
                color: var(--aurora);
            }

            #nav-mobile-toggle, #nav-mobile-menu {
                display: none;
            }
            
            .language-toggle {
                margin-left: var(--spacing-lg);
            }
        }
        
        /* Hero Section */
        .hero {
            padding: 80px 0;
            background: linear-gradient(135deg, var(--navy), #000D2B);
            min-height: 50vh;
            display: flex;
            align-items: center;
        }
        
        .hero h1 {
            font-size: 3em;
            color: var(--aurora);
            text-shadow: 0 0 10px rgba(100, 255, 218, 0.5);
        }
        
        .hero p {
            font-size: 1.2em;
            color: var(--white);
            max-width: 800px;
            margin-bottom: var(--spacing-xl);
        }
        
        /* Map Placeholder */
        #map-placeholder {
            position: relative;
            background-color: #223344;
            height: 300px;
            border-radius: var(--radius-md);
            overflow: hidden;
        }

        .map-dot {
            position: absolute;
            width: 15px;
            height: 15px;
            background-color: var(--aurora);
            border-radius: 50%;
            cursor: pointer;
            border: 3px solid var(--navy);
            transition: transform 0.3s;
        }

        .map-dot:hover {
            transform: scale(1.5);
            box-shadow: 0 0 10px var(--aurora);
        }
        
        .map-dot[data-hub="Qikiqtarjuaq"] { top: 20%; left: 75%; }
        .map-dot[data-hub="Pond Inlet"] { top: 5%; left: 60%; }
        .map-dot[data-hub="Resolute"] { top: 10%; left: 30%; }

        .tooltip {
            position: absolute;
            background-color: rgba(0, 0, 0, 0.8);
            color: var(--white);
            padding: var(--spacing-sm);
            border-radius: var(--radius-sm);
            pointer-events: none;
            white-space: nowrap;
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 10;
        }
        
        .map-dot:hover + .tooltip {
            opacity: 1;
        }

        /* Polar Beacons Diagram */
        #polar-beacons-diagram {
            display: grid;
            grid-template-columns: 1fr 20px 1fr 20px 1fr;
            align-items: center;
            gap: var(--spacing-md);
            margin: var(--spacing-xl) auto;
            padding: var(--spacing-md);
            border: 1px dashed var(--tundra);
            border-radius: var(--radius-md);
            max-width: 800px;
            text-align: center;
        }

        .diagram-box {
            background-color: var(--dark-gray);
            padding: var(--spacing-md);
            border-radius: var(--radius-sm);
            color: var(--white);
            font-weight: bold;
            box-shadow: var(--shadow-md);
        }

        .diagram-arrow {
            color: var(--aurora);
            font-size: 2em;
        }

        /* Org Chart */
        #org-chart {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--spacing-lg);
            padding: var(--spacing-lg);
        }

        .org-level {
            display: flex;
            justify-content: center;
            gap: var(--spacing-lg);
            width: 100%;
        }

        .org-box {
            background-color: var(--dark-gray);
            padding: var(--spacing-md);
            border-radius: var(--radius-md);
            text-align: center;
            min-width: 150px;
            box-shadow: var(--shadow-md);
        }

        .org-box h4 {
            color: var(--aurora);
            margin-bottom: var(--spacing-xs);
        }

        .org-box p {
            font-size: 0.8em;
            color: var(--tundra);
        }
        
        /* Pricing Table */
        .pricing-table {
            border: 2px solid var(--aurora);
            border-radius: var(--radius-md);
            overflow: hidden;
            background-color: var(--dark-gray);
        }
        
        .pricing-table th, .pricing-table td {
            text-align: center;
            padding: var(--spacing-md);
            border-bottom: 1px solid var(--navy);
            border-right: 1px solid var(--navy);
        }
        
        .pricing-table th {
            background-color: var(--aurora);
            color: var(--navy);
        }
        
        .pricing-table tbody tr:last-child td {
            border-bottom: none;
        }
        
        .included { color: var(--aurora); font-weight: bold; }
        .excluded { color: var(--red); }
        
        /* Status Log Table */
        .status-info { color: var(--blue); }
        .status-warn { color: var(--yellow); }
        .status-critical { color: var(--red); }
        
        /* Language Selector in Header */
        .header-controls {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
        }

        /* Responsive Adjustments for Org Chart */
        @media (max-width: 768px) {
            .org-level {
                flex-direction: column;
                gap: var(--spacing-sm);
            }
        }

        /* Canvas */
        .chart-container {
            background-color: var(--dark-gray);
            padding: var(--spacing-md);
            border-radius: var(--radius-md);
            height: 300px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        canvas {
            max-width: 100%;
            max-height: 100%;
        }
        
        /* Accessibility: Skip Link */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--aurora);
            color: var(--navy);
            padding: var(--spacing-sm);
            z-index: 1001;
            transition: top 0.3s;
        }
        
        .skip-link:focus {
            top: 0;
            outline: none;
        }
        
        /* Itinerary and Weather Tables */
        .itinerary-table, .weather-table {
            overflow-x: auto;
            display: block;
            width: 100%;
        }
        .itinerary-table table, .weather-table table {
            min-width: 600px; /* Ensure tables aren't squished too much on mobile */
        }
        
        /* Availability Calendar */
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1px;
            background-color: var(--dark-gray);
            border-radius: var(--radius-md);
            overflow: hidden;
            margin-bottom: var(--spacing-lg);
        }
        
        .calendar-header {
            background-color: var(--navy);
            color: var(--aurora);
            font-weight: bold;
            padding: var(--spacing-sm);
            text-align: center;
        }
        
        .calendar-day {
            background-color: var(--dark-gray);
            padding: var(--spacing-sm);
            text-align: right;
            border: 1px solid var(--navy);
            position: relative;
        }
        
        .calendar-day-label {
            display: block;
            font-size: 1.5em;
            color: var(--white);
            margin-bottom: var(--spacing-xs);
        }
        
        .calendar-available {
            background-color: rgba(100, 255, 218, 0.1);
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .calendar-available:hover {
            background-color: rgba(100, 255, 218, 0.3);
        }
        
        .calendar-slots {
            font-size: 0.7em;
            color: var(--aurora);
            font-weight: bold;
        }
        
        .calendar-unavailable {
            color: var(--tundra);
            opacity: 0.5;
        }
        
        .calendar-month-header {
            grid-column: 1 / -1;
            text-align: center;
            font-size: 1.2em;
            padding: var(--spacing-md);
            background-color: var(--navy);
            color: var(--white);
        }
    </style>
</head>
<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <header id="header">
        <div class="container header-controls">
            <a href="#/" id="logo-link" aria-label="ArcTrek Expeditions Home">
                <h3 style="color:var(--aurora);">ArcTrek<span style="color:var(--white);font-weight:normal;">Expeditions</span></h3>
            </a>
            
            <nav id="nav-desktop" aria-label="Main Navigation">
                <ul role="menubar">
                    <li role="none"><a href="#/about" role="menuitem" data-lang-key="nav-about">About</a></li>
                    <li role="none"><a href="#/routes" role="menuitem" data-lang-key="nav-routes">Routes</a></li>
                    <li role="none"><a href="#/safety" role="menuitem" data-lang-key="nav-safety">Safety & Data</a></li>
                    <li role="none"><a href="#/team" role="menuitem" data-lang-key="nav-team">Team</a></li>
                    <li role="none"><a href="#/experience" role="menuitem" data-lang-key="nav-experience">Experience</a></li>
                    <li role="none"><a href="#/contact" role="menuitem" data-lang-key="nav-contact">Contact</a></li>
                    <li role="none"><a href="#/booking" role="menuitem" class="btn btn-primary" data-lang-key="nav-book">Book Now</a></li>
                </ul>
                <div class="language-toggle" role="radiogroup" aria-label="Language Selector">
                    <button data-lang="en" aria-checked="true" role="radio">EN</button>
                    <button data-lang="ik" aria-checked="false" role="radio">ᐃᓄᒃᑎᑐᑦ</button>
                    <button data-lang="fr" aria-checked="false" role="radio">FR</button>
                </div>
            </nav>

            <button id="nav-mobile-toggle" aria-expanded="false" aria-controls="nav-mobile-menu" aria-label="Toggle navigation menu">☰</button>
        </div>

        <nav id="nav-mobile-menu" aria-label="Mobile Navigation">
            <a href="#/about" data-lang-key="nav-about">About</a>
            <a href="#/routes" data-lang-key="nav-routes">Routes</a>
            <a href="#/safety" data-lang-key="nav-safety">Safety & Data</a>
            <a href="#/team" data-lang-key="nav-team">Team</a>
            <a href="#/experience" data-lang-key="nav-experience">Experience</a>
            <a href="#/contact" data-lang-key="nav-contact">Contact</a>
            <a href="#/booking" class="btn btn-primary" data-lang-key="nav-book" style="display: block; margin: var(--spacing-md);">Book Now</a>
            <div class="language-toggle" style="text-align: center; margin-top: var(--spacing-md);">
                <button data-lang="en">EN</button>
                <button data-lang="ik">ᐃᓄᒃᑎᑐᑦ</button>
                <button data-lang="fr">FR</button>
            </div>
        </nav>
    </header>

    <main id="app" role="main">
        <div class="container section">
            <h1>Loading...</h1>
            <p>If you see this for more than a second, there may be a JavaScript error.</p>
        </div>
    </main>

    <footer id="footer">
        <div class="container grid grid-3">
            <div class="stack">
                <h4 style="color:var(--aurora);">ArcTrek Expeditions Ltd.</h4>
                <p>A NWPH Group Subsidiary.</p>
                <p>HQ: Qikiqtarjuaq, Nunavut, Canada</p>
            </div>
            <div class="stack">
                <h4 style="color:var(--aurora);">Explore</h4>
                <a href="#/routes">Expeditions</a>
                <a href="#/safety">Safety Protocol</a>
                <a href="#/careers">Careers</a>
                <a href="#/status">Service Status</a>
            </div>
            <div class="stack">
                <h4 style="color:var(--aurora);">Legal</h4>
                <a href="#/policy/privacy">Privacy Policy</a>
                <a href="#/policy/terms">Terms & Liability</a>
                <p>&copy; <span id="current-year"></span> ArcTrek Expeditions Ltd.</p>
            </div>
        </div>
    </footer>
    
    <div id="debug-panel">
        <div id="debug-header" onclick="document.getElementById('debug-content').classList.toggle('active')" aria-expanded="false" aria-controls="debug-content" role="button" tabindex="0">
            <span>DEBUG CONSOLE (Click to Toggle)</span>
            <span id="debug-status"></span>
        </div>
        <div id="debug-content" role="log">
            <p><strong>Preview Mode:</strong> Stubbed data, no external calls. Single-file SPA.</p>
        </div>
    </div>


    <script>
        //
        // --------------------------------------------------
        // JAVASCRIPT: ARCTREK EXPEDITIONS SPA
        // --------------------------------------------------
        //

        // Global Data Model & State
        const ARCTREK_STATE = {
            currentLang: localStorage.getItem('arctrek_lang') || 'en',
            debugLog: []
        };
        
        const ARCTREK_DATA = {
            company: {
                name: "ArcTrek Expeditions Ltd.",
                subsidiaryOf: "NWPH group",
                hq: "Qikiqtarjuaq, Nunavut",
                tagline: "Traverse the North. Learn from the Land.",
                mission: "Deliver Inuit-led wilderness expeditions across Nunavut’s national parks and Arctic regions with uncompromising safety, cultural authenticity, and environmental stewardship.",
                motto: "Aqqutaa Nunami – The Way on the Land.",
                partners: [
                    { name: "North Winds Airlines", category: "Regional Aviation", blurb: "Integrated regional flight support for fast, reliable access to remote base camps." },
                    { name: "Ima Sealift Solutions", category: "Marine Logistics", blurb: "Crucial sea-lift capabilities for heavy equipment and seasonal resupply." },
                    { name: "Polar Beacons", category: "Environmental Data", blurb: "Real-time, hyper-local weather and environmental feeds for route safety and planning." },
                    { name: "Inuit Tapiriit Kanatami (ITK)", category: "Cultural/Research", blurb: "Consultative partnership for cultural competency and research ethics." },
                    { name: "University of Toronto Arctic Research", category: "Academic/Research", blurb: "Facilitating bespoke research logistics for climate and ecological studies." },
                    { name: "BBC Earth (mock)", category: "Film/Media", blurb: "Providing full-service remote logistics for natural history documentary crews." }
                ],
                ethos: {
                    origin: "Born from a desire to share the unparalleled beauty and cultural richness of the high Arctic, ArcTrek was founded in Qikiqtarjuaq, leveraging generations of local knowledge with modern safety standards. As a subsidiary of the NWPH group, we are committed to sustainable, community-focused tourism.",
                    culturalGovernance: "Our approach is Inuit-led. An Elder counsel seat informs program design, cultural interpretation, and land practices. Revenue sharing, local procurement, and youth apprenticeships are baked into operations so that the value of tourism circulates in the communities we visit.",
                    environmentalEthics: "We adhere to strict leave-no-trace standards, wildlife viewing ethics, and pack-out protocols. Camps are sited to minimize impact, and itineraries are adapted to seasonal conditions to protect sensitive terrain."
                }
            },
            
            kpis: [
                { label: "Guest Satisfaction", value: "98.7%", description: "Average post-expedition rating." },
                { label: "Guide-to-Guest Ratio", value: "1:4 Max", description: "Ensuring personalized attention and rapid response capability." },
                { label: "Incident-Free Days", value: "1,200+", description: "Since last recordable incident (minor injury)." },
                { label: "% Community Spend", value: "65%", description: "Percentage of operational budget allocated to local procurement." },
                { label: "Apprentices Trained", value: "22", description: "Total Inuit youth enrolled and graduated from our field program." },
                { label: "Return-Guest Rate", value: "31%", description: "Guests booking a second or subsequent expedition." },
            ],

            routes: [
                {
                    id: 'akshayuk', name: 'Akshayuk Pass Trek', region: 'Auyuittuq National Park', difficulty: 'Medium', season: 'Summer/Fall', durationDays: 10, distanceKm: 97, maxGroupSize: 12,
                    overview: `The Akshayuk Pass, threading through the Pangnirtung Fjord, is one of the world's most dramatic hiking trails. We traverse glacial valleys, cross braided rivers, and camp beneath the iconic granite spires of Thor and Asgard. This is a journey of profound scale, demanding sure footing and a resilient spirit. Our Inuit guides provide critical knowledge on safe water crossings and bear territory etiquette. The landscape tells the geological story of the earth, while the cultural sites remind us of human resilience. This route is typically done in the summer (July-August) when river levels are manageable and snow cover is minimal, but the late-season (September) offers breathtaking autumn colors and a quieter solitude. Logistical support is provided by North Winds Airlines for the charter flight to the starting point near Qikiqtarjuaq.`,
                    highlights: ['Mount Thor', 'Mount Asgard', 'Glacier crossing training', 'Wildlife viewing (caribou, arctic fox)', 'Ancient Thule cultural sites'],
                    itinerary: [
                        { day: 1, title: "Arrival in Pangnirtung & Briefing", distanceKm: 0, ascentM: 0, description: "Gear check, safety briefing, meet Elder counsel member, local cultural welcome." },
                        { day: 2, title: "Flight to Summit Lake & Start Trek", distanceKm: 8, ascentM: 100, description: "Charter to Summit Lake. Easy start, acclimatization hike near the glacial moraine. Terrain is generally flat, well-packed ground." },
                        { day: 3, title: "Hiking to Windy Lake", distanceKm: 12, ascentM: 50, description: "Open tundra walking. River crossings (requires wading). Wind is a factor." },
                        { day: 4, title: "The Valley of Thor", distanceKm: 10, ascentM: 150, description: "Spectacular views of Mount Thor. Moraine terrain with rocky sections." },
                        { day: 5, title: "Base of Mount Asgard", distanceKm: 15, ascentM: 200, description: "Largest ascent of the trip. Technical stream crossings. Camp near the glacier runoff." },
                        { day: 6, title: "Rest and Glacier Day", distanceKm: 0, ascentM: 0, description: "Mandatory rest. Ice safety training. Local flora and fauna interpretation." },
                        { day: 7, title: "Descent to Weasel River", distanceKm: 18, ascentM: -150, description: "Longer day. Braided river terrain. Chance of significant fog/cloud cover." },
                        { day: 8, title: "Pangnirtung Fjord Views", distanceKm: 16, ascentM: 50, description: "Coastal views emerge. More stable terrain. Prep for final days." },
                        { day: 9, title: "Final push to Sea Coast", distanceKm: 18, ascentM: 0, description: "Exit valley, transition from river delta to fjord coastline. Final group celebration." },
                        { day: 10, title: "Return to Pangnirtung & Depart", distanceKm: 0, ascentM: 0, description: "Boat charter from trailhead to Pangnirtung. Debrief and charter flight out." }
                    ],
                    weatherExpectations: { tempRange: "-5°C to 15°C", windTypical: "15-30 km/h (gusts to 60+)", precipChance: "30%", daylightHoursBySeason: "July: 24h, Aug: 20h, Sep: 14h" },
                    gearList: { required: ['Four-season tent', 'Down sleeping bag (-15°C comfort)', 'Wading boots/crocs for river crossings', 'Bear canister/fence'], optional: ['Satellite phone (provided by ArcTrek)', 'Trekking poles', 'Lightweight binoculars'], rentals: ['Tents', 'Sleep Systems', 'Bear Safety Kits'] },
                    pricingTiers: [
                        { name: 'Base', price: '12,900 CAD', includes: ['Guide service', 'All logistics (air/boat charters)', 'Group gear'], excludes: ['Personal gear', 'International flights', 'Emergency insurance'] },
                        { name: 'Cultural Immersion', price: '14,500 CAD', includes: ['Base package', 'Enhanced cultural interpretation', 'Pre/post-trek community stays'], excludes: ['Personal gear', 'International flights', 'Emergency insurance'] },
                        { name: 'Premium Private', price: 'POA', includes: ['All-inclusive logistics', 'Custom menu', 'Dedicated photographer'], excludes: ['N/A'] }
                    ],
                    availability: ['2026-07-15', '2026-08-01', '2026-08-15', '2026-09-05'],
                    safetyNotes: `This route presents significant hazards from **river crossings** and **high winds**. We use Polar Beacons data to predict river levels based on temperature and precipitation, and we maintain a 48-hour outlook on pressure and wind. **Storm reroutes** often mean a mandatory 1-2 day camp to wait out high winds. Guides carry satellite messengers and specialized medevac packs.`,
                    elevationProfile: [0, 100, 80, 230, 430, 430, 280, 330, 380, 0] // Mock elevation in meters for 10 days
                },
                {
                    id: 'quttinirpaaq', name: 'Quttinirpaaq High Arctic Traverse', region: 'Quttinirpaaq National Park (Ellesmere)', difficulty: 'Expert', season: 'Spring/Summer', durationDays: 21, distanceKm: 300, maxGroupSize: 8,
                    overview: `A true expedition to the world's northernmost national park. Quttinirpaaq (meaning 'land at the top of the world') offers an unparallelled environment of ice caps, polar deserts, and unique high arctic wildlife. This is a demanding, multi-week trek requiring full self-sufficiency, glacier travel skills, and resilience to extreme cold and unpredictable weather. This route is typically run as a **ski-expedition** in the late spring (May-June) to leverage stable sea-ice and consolidated snow for travel. Logistics are complex, relying heavily on North Winds Airlines and a significant preparatory window. Guests must undergo mandatory pre-screening and training.`,
                    highlights: ['High Arctic wildlife (muskox, arctic wolf, polar bear)', 'Trekking across the Hazen Plateau', '24-hour daylight', 'Extreme solitude and untouched wilderness'],
                    itinerary: [
                        { day: 1, title: "Arrival in Resolute & Staging", distanceKm: 0, ascentM: 0, description: "In-depth safety and comms training. Gear audit. Final flight prep." },
                        { day: 2, title: "Charter to Tanquary Fiord Base", distanceKm: 0, ascentM: 0, description: "Long charter flight. Establish base camp. Acclimatization." },
                        { day: 3, title: "Glacier Skills Refresher", distanceKm: 5, ascentM: 50, description: "Crevasse rescue, rope work, and ski/sled hauling training." },
                        // ... 15 days of traverse details omitted for brevity ...
                        { day: 18, title: "Descent to Lake Hazen", distanceKm: 15, ascentM: -200, description: "Final push over a significant mountain pass. Increased wind exposure." },
                        { day: 19, title: "Lake Hazen Shoreline", distanceKm: 12, ascentM: 0, description: "Flat terrain. Monitor sea-ice/lake ice conditions carefully." },
                        { day: 20, title: "Base Camp Return Prep", distanceKm: 8, ascentM: 0, description: "Final camp. Gear maintenance and science sample collection (optional)." },
                        { day: 21, title: "Charter Back to Resolute", distanceKm: 0, ascentM: 0, description: "Base camp breakdown and flight out." }
                    ],
                    weatherExpectations: { tempRange: "-30°C to -5°C", windTypical: "25-50 km/h (whiteout conditions common)", precipChance: "10% (mostly snow)", daylightHoursBySeason: "May-July: 24h" },
                    gearList: { required: ['Full expedition-grade ski equipment', 'Sled/Pulk system', 'Extreme cold weather boots (e.g., Baffin/mukluks)', 'High-calorie expedition food'], optional: ['Snow goggles (mandatory spare)', 'Solar panel for charging'], rentals: ['Pulk Sleds', 'Group Satellite Comms', 'Bear Fences'] },
                    pricingTiers: [
                        { name: 'Base', price: '35,000 CAD', includes: ['Guide service', 'All logistics (multiple charters)', 'Expedition food/fuel'], excludes: ['Personal expedition gear', 'Pre-expedition training courses'] },
                        { name: 'Premium Private', price: 'POA', includes: ['Custom flight windows', 'Dedicated medical officer', 'Tailored route planning'], excludes: ['N/A'] }
                    ],
                    availability: ['2026-05-10', '2027-05-15'],
                    safetyNotes: `The extreme isolation and cold of Quttinirpaaq demand an **ultra-conservative safety protocol**. Polar Beacons provide critical **sea-ice advisories** for any coastal travel sections. **Whiteout protocol** involves immediate shelter-building and halting travel. Medevac requires specialized long-range aircraft and can be delayed by days due to weather. Decision thresholds are strictly adhered to by all team members.`,
                    elevationProfile: [0, 50, 100, 150, 200, 300, 400, 550, 600, 500, 450, 350, 250, 150, 100, 50, 0, -50, -100, -150, 0] // 21 days
                },
                {
                    id: 'sirmilik', name: 'Sirmilik Floe Edge Experience', region: 'Sirmilik National Park (Baffin Bay)', difficulty: 'Easy', season: 'Spring/Floe Edge', durationDays: 7, distanceKm: 50, maxGroupSize: 10,
                    overview: `The Sirmilik Floe Edge is a seasonal migration corridor where the land-fast ice meets the open water of the ocean. This 'edge' is an ecological hotspot, offering unparalleled opportunities to view narwhals, belugas, seals, and—crucially—polar bears in their natural environment. This is a **snowmobile/qamutiq-based expedition** run from Pond Inlet, guided entirely by local Inuit experts. The focus is wildlife viewing, cultural immersion, and marine ecology. Safety focuses entirely on dynamic sea-ice conditions. This route is ideal for photographers and wildlife enthusiasts and is only available for a short window in May/June.`,
                    highlights: ['Narwhal and Beluga whale migration', 'Polar Bear sighting opportunities', 'Cultural camping on the sea ice', 'The stunning fiords of Bylot Island'],
                    itinerary: [
                        { day: 1, title: "Arrival in Pond Inlet & Cultural Welcome", distanceKm: 0, ascentM: 0, description: "Meet guides, gear check, and an evening cultural sharing session." },
                        { day: 2, title: "Travel to the Floe Edge", distanceKm: 50, ascentM: 0, description: "Travel by snowmobile and qamutiq (traditional sled) over sea ice. Set up camp near the edge." },
                        { day: 3, title: "Wildlife Day 1 (Narwhals)", distanceKm: 10, ascentM: 0, description: "Patient observation at the edge. Sea-ice safety training." },
                        { day: 4, title: "Wildlife Day 2 (Bears/Seals)", distanceKm: 10, ascentM: 0, description: "Tracking and observation. Inuit guide explains animal behaviour and hunting ethics." },
                        { day: 5, title: "Bylot Island Fiord Exploration", distanceKm: 20, ascentM: 50, description: "Snowmobile excursion into a nearby fiord for glacier views." },
                        { day: 6, title: "Final Edge Observation & Camp Feast", distanceKm: 5, ascentM: 0, description: "Final viewing session. Traditional feast and storytelling." },
                        { day: 7, title: "Return to Pond Inlet & Departure", distanceKm: 50, ascentM: 0, description: "Travel back to the community and charter out." }
                    ],
                    weatherExpectations: { tempRange: "-15°C to 5°C", windTypical: "10-20 km/h (wind chill significant)", precipChance: "20% (snow/mist)", daylightHoursBySeason: "May-June: 24h" },
                    gearList: { required: ['Waterproof/windproof outerwear (e.g., Mustang/Arctic gear)', 'Very warm mitts/gloves', 'Small dry bags'], optional: ['High-quality telephoto lens', 'Hand/foot warmers'], rentals: ['Expedition parkas', 'Mukluks/Extreme boots'] },
                    pricingTiers: [
                        { name: 'Base', price: '9,500 CAD', includes: ['Guide service', 'All snowmobile/qamutiq transport', 'Community homestay (1 night)'], excludes: ['International flights', 'Personal gear'] },
                        { name: 'Cultural Immersion', price: '11,000 CAD', includes: ['Base package', 'Extended cultural programs', 'Traditional cooking lessons'], excludes: ['International flights', 'Personal gear'] }
                    ],
                    availability: ['2026-05-20', '2026-06-03'],
                    safetyNotes: `The core hazard is the **dynamic floe edge**. Polar Beacons provide **real-time sea-ice indicators** (thickness, movement). Guides use satellite imagery and local knowledge to identify unsafe ice. **Storm reroutes** in this environment mean moving camp inland immediately. All guides carry multiple comms redundancies (sat phone, InReach, VHF) and specialized ice rescue gear.`,
                    elevationProfile: [0, 0, 0, 0, 50, 0, 0] // Minimal elevation change
                },
                {
                    id: 'custom', name: 'Private Bespoke Expeditions', region: 'Pan-Nunavut', difficulty: 'Varies', season: 'All', durationDays: 'Custom', distanceKm: 'Custom', maxGroupSize: 'Custom',
                    overview: `ArcTrek's bespoke division caters to specialized requests: **film production logistics**, **scientific research expeditions**, and **high-net-worth VIP private treks**. Leveraging our integrated logistics network (North Winds Airlines, Ima Sealift Solutions) and deep Inuit-led field expertise, we design the entire operational plan from permitting to execution. Whether you need a remote glacier camp for climate research or a fully-supported traverse for a feature film, we provide the safest and most culturally responsible access to the high Arctic. Pricing and logistics are highly customized.`,
                    highlights: ['Exclusive access to remote regions', 'Full logistics support (air/marine)', 'Dedicated Safety & Field Directors', 'Inuit cultural liaison'],
                    itinerary: [{ day: 1, title: "Consultation & Planning", distanceKm: 0, ascentM: 0, description: "Initial needs assessment and concept brief." }],
                    weatherExpectations: { tempRange: "Varies", windTypical: "Varies", precipChance: "Varies", daylightHoursBySeason: "Varies" },
                    gearList: { required: ['Full self-sufficiency planning', 'Specialized communications', 'Custom insurance'], optional: ['Custom life support systems', 'Scientific equipment'], rentals: ['Full inventory available'] },
                    pricingTiers: [
                        { name: 'Consultation', price: '5,000 CAD', includes: ['Initial feasibility study', 'Draft budget/itinerary'], excludes: ['Field operations'] }
                    ],
                    availability: ['Year-round based on project scope'],
                    safetyNotes: `Custom expeditions require a mandatory **Risk Assessment and Mitigation Plan (RAMP)** reviewed by our Safety Director and Cultural Director. All logistics are planned with a 150% contingency buffer for weather and operational delays.`,
                    elevationProfile: [0, 0]
                }
            ],
            
            pricing: {
                baseDayRate: 950, // Per person, per day, standard rate placeholder
                logisticsSurcharge: 1.25, // Multiplier for remote logistics (Quttinirpaaq/Custom)
                groupDiscount: 0.90, // Multiplier for groups of 6+
                addons: {
                    culturalImmersion: 1600, // Fixed cost
                    gearRental: 800, // Fixed cost
                    singleSupplement: 0.25 // Multiplier on base price
                }
            },
            
            nextDepartures: [
                { routeId: 'sirmilik', date: '2026-05-20', slots: 4, priceBand: '9,500+' },
                { routeId: 'akshayuk', date: '2026-07-15', slots: 8, priceBand: '12,900+' },
                { routeId: 'akshayuk', date: '2026-09-05', slots: 2, priceBand: '12,900+' },
                { routeId: 'quttinirpaaq', date: '2027-05-15', slots: 6, priceBand: '35,000+' }
            ],
            
            // Mock Data for Safety Dashboard
            dashboards: {
                // 24-hour mock data (24 points, one per hour)
                timestamps: Array.from({ length: 24 }, (_, i) => new Date(Date.now() - (23 - i) * 3600000).toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', hour12: false })),
                temp: Array.from({ length: 24 }, () => Math.round(Math.random() * 15 - 10)), // -10 to 5 C
                wind: Array.from({ length: 24 }, () => Math.round(Math.random() * 20 + 10)), // 10 to 30 km/h
                pressure: Array.from({ length: 24 }, () => Math.round(Math.random() * 15 + 1000)), // 1000 to 1015 hPa
                humidity: Array.from({ length: 24 }, () => Math.round(Math.random() * 20 + 70)), // 70-90%
                precipRate: Array.from({ length: 24 }, () => (Math.random() * 0.5).toFixed(1)), // 0.0-0.5 mm/h
                uv: Array.from({ length: 24 }, () => Math.round(Math.random() * 3)) // 0-3
            },
            
            alerts: [
                { id: 1, severity: 'warn', title: 'High Wind Advisory', message: 'Gusts up to 60 km/h expected in the Auyuittuq region in the next 12 hours. Review securing procedures.', timestamp: new Date(Date.now() - 3600000).toLocaleString() },
                { id: 2, severity: 'info', title: 'Sea-Ice Watch', message: 'Ice thickness report updated for Sirmilik: stable 1.5m. Continue normal operations.', timestamp: new Date(Date.now() - 7200000).toLocaleString() },
                { id: 3, severity: 'critical', title: 'Pressure Drop Alert', message: 'Barometric pressure dropping rapidly in the Quttinirpaaq region. Mandatory halt of travel and establish storm camp immediately.', timestamp: new Date(Date.now() - 10800000).toLocaleString() }
            ],
            
            team: {
                leadership: [
                    { name: 'Kablunaaq Eegeesiak', role: 'General Manager', mandate: 'Strategy, Partnerships, Safety Culture', bio: 'Born in Qikiqtarjuaq, Kablunaaq holds an MBA and has decades of experience integrating Inuit knowledge with modern corporate governance. He oversees all strategic partnerships and maintains ArcTrek\'s safety-first culture.', tenure: 'Founder' },
                    { name: 'Dr. Sarah Jensen', role: 'Safety Director', mandate: 'Protocols, Training, Incident Response', bio: 'A former Arctic Search & Rescue specialist and certified Wilderness Paramedic (WEMT), Sarah designs and implements our rigorous safety protocols, ensuring guides meet global expedition standards.', tenure: '8 years' },
                    { name: 'Piruqtaq Alariaq', role: 'Cultural & Education Director', mandate: 'Inuit knowledge, Interpretation Program', bio: 'Piruqtaq, an Inuk Elder from Pond Inlet, ensures our expeditions are respectful, authentic, and educational. She chairs the Elder Counsel and develops our cultural interpretation curriculum.', tenure: '5 years' }
                ],
                guides: [
                    { name: 'Jens Makkik', level: 'Inuit Lead Guide', specialties: ['Sea Ice Travel', 'Polar Bear Safety'], certs: ['WFR', 'Advanced Ice Rescue'], languages: ['Inuktitut', 'EN'], bio: 'One of the most experienced guides in Nunavut. Leads the Sirmilik floe edge trips.' },
                    { name: 'Aputi Kuptana', level: 'Assistant Guide', specialties: ['Mountaineering', 'GPS/Comms'], certs: ['WFA'], languages: ['EN', 'FR'], bio: 'Focuses on the technical aspects of the Akshayuk Pass.' }
                ],
                apprentices: [
                    { name: 'Tupiq Angalik', cohort: 2025, focus: 'Field Logistics & Safety', stage: 'Field Training (Year 1)' },
                    { name: 'Inuit Youth Name', cohort: 2024, focus: 'Cultural Interpretation', stage: 'Graduate (Lead Assist)' }
                ],
                support: [
                    { role: 'Base Camp Operations', bio: 'Manages all in-field supply chains, camp establishment, and non-field logistics from the HQ.' },
                    { role: 'Gear Technicians', bio: 'Maintains, repairs, and audits all expedition-grade equipment to ensure peak performance.' }
                ],
                openRoles: [
                    { title: 'Winter Expedition Guide', responsibilities: 'Lead multi-day ski tours; manage group safety; cultural interpretation.', qualifications: 'ACMG/IFMGA certification (or equivalent), 5+ years Arctic experience, WFR, Inuktitut fluency preferred.', location: 'Qikiqtarjuaq Base', contractType: 'Seasonal' },
                    { title: 'Logistics Officer', responsibilities: 'Coordinate North Winds Airlines and Ima Sealift movements; manage inventory.', qualifications: 'Supply Chain certification, 3+ years logistics experience, strong IT skills.', location: 'HQ (Qikiqtarjuaq)', contractType: 'Full-Time' }
                ]
            },
            
            policies: {
                privacy: `ArcTrek Expeditions Ltd. is committed to protecting your personal information in compliance with the Personal Information Protection and Electronic Documents Act (PIPEDA). We collect only the data necessary for booking, safety (medical history), and emergency contact. This information is stored securely on Canadian servers and is never shared with third parties for marketing purposes. Your safety data (medical forms, emergency contacts) is only shared with our certified medical officers and relevant emergency services in case of an incident. We use local storage for language preferences only.`,
                terms: `Booking an expedition with ArcTrek constitutes acceptance of the following: **Liability Waiver:** All guests must sign a comprehensive waiver acknowledging the inherent risks of Arctic travel (weather, wildlife, remote location). **Cancellation Policy:** Deposits are non-refundable. Final payment is due 90 days prior. Cancellations within 60 days forfeit the full fee. **Weather Disruptions:** Itineraries may be altered, delayed, or terminated at the sole discretion of the Lead Guide/Safety Director due to weather, ice conditions, or animal activity (e.g., Polar Bear encounters). No refunds are given for weather-related delays/changes, underscoring the necessity of travel insurance. **Acceptable Use:** Guests must comply with all guide instructions, cultural etiquette, and environmental policies (Leave No Trace). Non-compliance may result in expulsion from the expedition without refund.`
            },
            
            incidents: [
                { date: '2025-01-10', service: 'Quttinirpaaq Field Comms', severity: 'Info', note: 'Brief network outage resolved by satellite ground team. No impact to field units.', remediation: 'Checked backup systems.' },
                { date: '2024-11-20', service: 'North Winds Charter', severity: 'Warning', note: 'Weather delay (whiteout) extended a client charter by 24 hours. Protocol followed.', remediation: 'Provided complimentary community accommodation.' },
                { date: '2024-08-01', service: 'Akshayuk Pass Trek', severity: 'Critical', note: 'Minor sprain on Day 5. Evacuated via helicopter as a precaution. Guest treated and released.', remediation: 'Updated guide first aid training.' }
            ]
        };
        
        // Language Dictionary
        const I18N = {
            'en': {
                'title-home': 'Home', 'title-about': 'About Us', 'title-routes': 'Expedition Routes', 'title-safety': 'Safety & Data', 'title-team': 'Our Team', 'title-booking': 'Book Your Expedition', 'title-experience': 'Guest Experience', 'title-partners': 'Partnerships', 'title-careers': 'Careers', 'title-contact': 'Contact Us', 'title-policy': 'Policy', 'title-status': 'Service Status',
                'nav-about': 'About', 'nav-routes': 'Routes', 'nav-safety': 'Safety & Data', 'nav-team': 'Team', 'nav-experience': 'Experience', 'nav-contact': 'Contact', 'nav-book': 'Book Now',
                'hero-tagline': ARCTREK_DATA.company.tagline,
                'hero-mission': ARCTREK_DATA.company.mission,
                'cta-view-routes': 'View Routes', 'cta-safety': 'Safety & Data', 'cta-book-now': 'Book Now',
                'h2-kpis': 'Our Commitment in Numbers', 'h2-featured-routes': 'Featured Expeditions', 'h2-next-departures': 'Next Departures',
                'route-difficulty': 'Difficulty', 'route-duration': 'Duration', 'route-season': 'Season', 'route-highlights': 'Highlights',
                'form-name': 'Name', 'form-email': 'Email', 'form-route': 'Route', 'form-dates': 'Preferred Dates', 'form-group-size': 'Group Size', 'form-experience': 'Experience Level', 'form-notes': 'Special Notes (Medical/Dietary)', 'form-submit': 'Submit Booking Request', 'form-success': 'Booking Request Sent! We will contact you within 48 hours.',
                'pricing-tiers': 'Pricing Tiers', 'availability-calendar': 'Availability Calendar', 'gear-lists': 'Gear Lists', 'itinerary-day': 'Day', 'itinerary-title': 'Title', 'itinerary-distance': 'Distance (km)', 'itinerary-ascent': 'Ascent (m)', 'itinerary-description': 'Description',
                'weather-expectations': 'Weather Expectations', 'weather-temp': 'Temp Range', 'weather-wind': 'Wind Typical', 'weather-precip': 'Precip Chance', 'weather-daylight': 'Daylight Hours',
                'safety-philosophy': 'Safety Philosophy', 'pb-integration': 'Polar Beacons Integration', 'live-dashboards': 'Live Safety Dashboards (Qikiqtarjuaq Mock)', 'alerts-panel': 'Active Alerts Panel', 'emergency-protocols': 'Emergency Protocols',
                'team-leadership': 'Leadership', 'team-guides': 'Inuit & Field Guides', 'team-apprentices': 'Apprenticeship Cohort', 'team-support': 'Support Staff', 'team-org-chart': 'Organizational Structure', 'team-open-roles': 'Open Roles',
                'experience-narrative': 'A Day on the Trail', 'experience-testimonials': 'Guest Testimonials', 'experience-gallery': 'Expedition Gallery', 'experience-prep': 'Packing Lists & Prep Tips',
                'partners-academic': 'Academic & Research', 'partners-logistics': 'Logistics & Aviation', 'partners-film': 'Film & Media',
                'careers-apprenticeship': 'Inuit Youth Apprenticeship Track', 'careers-roles': 'Current Job Openings',
                'contact-hq': 'Headquarters', 'contact-base': 'Expedition Base', 'contact-form': 'Contact Form', 'contact-travel-notes': 'Travel Notes',
                'status-log': 'Incident Log', 'status-service': 'Service', 'status-severity': 'Severity', 'status-note': 'Note', 'status-remediation': 'Remediation',
                'estimator-calculate': 'Estimate Price', 'estimator-policies': 'Booking Policies'
            },
            'ik': {
                'title-home': 'ᐊᖏᕐᕋᖅ', 'title-about': 'ᑕᐃᒪᓐᓇ', 'title-routes': 'ᐊᖅᑯᑎᑦ', 'title-safety': 'ᖃᐅᔨᓴᕐᓂᖅ ᐊᒻᒪ ᖃᐅᔨᒃᑲᐃᖑᑎᑦ', 'title-team': 'ᐱᓕᕆᐊᕆᔭᕗᑦ', 'title-booking': 'ᑐᒃᓯᕋᖅ', 'title-experience': 'ᐊᓯᐊᙳᖅᑐᖅ', 'title-partners': 'ᐱᓇᓱᐊᖃᑎᒌᑦ', 'title-careers': 'ᐃᖅᑲᓇᐃᔮᑦ', 'title-contact': 'ᖃᐅᔨᒋᐊᕐᕕᒃ', 'title-policy': 'ᐱᖁᑎᑦ', 'title-status': 'ᐱᓕᕆᐊᖅ',
                'nav-about': 'ᑕᐃᒪᓐᓇ', 'nav-routes': 'ᐊᖅᑯᑎᑦ', 'nav-safety': 'ᖃᐅᔨᓴᕐᓂᖅ', 'nav-team': 'ᐱᓕᕆᐊᕆᔭᕗᑦ', 'nav-experience': 'ᐊᓯᐊᙳᖅᑐᖅ', 'nav-contact': 'ᖃᐅᔨᒋᐊᕐᕕᒃ', 'nav-book': 'ᑐᒃᓯᕋᖅ',
                'hero-tagline': 'ᐊᖅᑯᑖ Nunami. ᐊᔪᐃᓐᓇᖅᑳᕐᓇᓱᐊᕐᓂᖅ ᓄᓇᒥᑦ.',
                'hero-mission': 'ᓄᓇᕗᒻᒥ ᓯᓚᑖᓂ ᐊᖅᑯᑎᓕᐅᕐᓂᖅ ᐃᓄᖕᓂᑦ ᐊᔪᓐᖏᑦᑐᑦ ᑐᓂᓯᓪᓗᑎᒃ ᖃᓄᐃᓐᖏᑦᑐᓂᑦ, ᐃᓕᖅᑯᓯᕐᒥᑦ ᐱᓯᒪᐃᓪᓗᓂ ᐊᒻᒪ ᐊᕙᑎᒥᑦ ᐊᐅᓚᑦᑎᓂᖅ.',
                'cta-view-routes': 'ᐊᖅᑯᑎᓂᒃ ᑕᐅᑐᒃ', 'cta-safety': 'ᖃᓄᐃᓐᖏᑦᑐᓂᒃ', 'cta-book-now': 'ᑐᒃᓯᕋᖅ ᒫᓐᓇ',
                'h2-kpis': 'ᐱᓕᕆᔾᔪᓯᕗᑦ ᓈᓴᐅᑎᓂᑦ', 'h2-featured-routes': 'ᐱᒻᒪᕆᐅᔪᑦ ᐊᖅᑯᑎᑦ', 'h2-next-departures': 'ᑐᓪᓕᐊᓂ ᐱᒋᐊᕐᓂᖅ',
                'route-difficulty': 'ᖃᓄᐃᓕᖓᓂᖓ', 'route-duration': 'ᐱᔭᕇᕐᓂᖓ', 'route-season': 'ᐱᔭᕇᕐᕕᒃ', 'route-highlights': 'ᐱᒻᒪᕆᐅᔪᑦ',
                'form-name': 'ᐊᑎᖓ', 'form-email': 'ᖃᕋᓴᐅᔭᒃᑯᑦ', 'form-route': 'ᐊᖅᑯᑎ', 'form-dates': 'ᓇᓪᓕᐅᓂᖅᓯᐅᕕᒃ', 'form-group-size': 'ᖃᑎᒌᓐᓂᖓ', 'form-experience': 'ᖃᓄᐃᓕᖓᓂᖓ', 'form-notes': 'ᐱᔭᐅᔪᒪᔪᑦ', 'form-submit': 'ᑐᒃᓯᕋᐅᑎ ᓇᐅᑦᑎᕐᓂᖅ', 'form-success': 'ᑐᒃᓯᕋᐅᑎ ᐊᐅᓪᓛᖅᓯᒪᕗᖅ!',
                'pricing-tiers': 'ᑮᓇᐅᔭᖅᑖᖅᑎᑦᑎᕕᑦ', 'availability-calendar': 'ᐊᑐᐃᓐᓇᐅᓂᖓ', 'gear-lists': 'ᐊᑐᖅᑕᐅᖁᔭᐅᔪᑦ', 'itinerary-day': 'ᐅᓪᓗᖅ', 'itinerary-title': 'ᐊᓯᐊᙳᖅᑐᖅ', 'itinerary-distance': 'ᑭᓚᒦᑕ', 'itinerary-ascent': 'ᖁᓛᓄᑦ', 'itinerary-description': 'ᐅᖃᐅᓯᖅ',
                'weather-expectations': 'ᓯᓚᐅᑉ ᖃᓄᐃᓕᖓᓂᖓ', 'weather-temp': 'ᓂᓚᐃᓂᖓ', 'weather-wind': 'ᓯᑯᓴᓂᖓ', 'weather-precip': 'ᓯᓪᓕᖅ', 'weather-daylight': 'ᐅᓪᓗᖅ',
                'safety-philosophy': 'ᖃᓄᐃᓐᖏᑦᑐᒥᑦ ᐃᓱᒪᒃᓴᖅᓯᐅᕐᓂᖅ', 'pb-integration': 'ᐹᓚ ᐲᒃᑯᓐᓯ ᐱᓕᕆᐊᖑᓂᖓ', 'live-dashboards': 'ᑕᑯᒃᓴᐅᑎᑦᓯᕕᒃ', 'alerts-panel': 'ᖃᐅᔨᒃᑲᐃᖑᑎᑦ', 'emergency-protocols': 'ᑐᐊᕕᕐᓇᖅᑐᓄᑦ ᐱᓕᕆᐊᑦ',
                'team-leadership': 'ᓯᐊᒻᒪᒃᑎᑦᑎᔨᑦ', 'team-guides': 'ᐃᓄᐃᑦ ᐊᖅᑯᑎᒌᖅᑎᑦ', 'team-apprentices': 'ᐃᓕᓐᓂᐊᖅᑏᑦ', 'team-support': 'ᑐᕚᖅᑏᑦ', 'team-org-chart': 'ᐱᓕᕆᐊᖑᓂᖓ', 'team-open-roles': 'ᐃᖅᑲᓇᐃᔮᑦ ᐊᑐᐃᓐᓇᐅᔪᑦ',
                'experience-narrative': 'ᐊᐃᑉᐸᖅ ᓯᓚᑖᓂ', 'experience-testimonials': 'ᑐᑭᓯᒋᐊᕈᑏᑦ', 'experience-gallery': 'ᑕᑯᒃᓴᐅᑎᑦᓯᕕᒃ', 'experience-prep': 'ᐱᕕᒃᓴᖅ',
                'partners-academic': 'ᐃᓕᓐᓂᐊᕐᕖᑦ', 'partners-logistics': 'ᐱᔨᑦᑎᕋᖅᑏᑦ', 'partners-film': 'ᑕᕐᕆᔭᖅᓯᐅᖅᑎᑦ',
                'careers-apprenticeship': 'ᐃᓄᐃᑦ ᓄᑕᖅᑲᑦ ᐃᓕᓐᓂᐊᖅᑏᑦ', 'careers-roles': 'ᐃᖅᑲᓇᐃᔮᑦ',
                'contact-hq': 'ᐊᖏᕐᕋᖅ', 'contact-base': 'ᐱᒋᐊᕐᕕᒃ', 'contact-form': 'ᖃᐅᔨᒋᐊᕐᕕᒃ', 'contact-travel-notes': 'ᐱᓱᒡᕕᒃ',
                'status-log': 'ᖃᓄᐃᓕᐅᕐᓂᖅ', 'status-service': 'ᐱᔨᑦᑎᕋᖅ', 'status-severity': 'ᐱᒻᒪᕆᐅᓂᖓ', 'status-note': 'ᑐᓴᖅᑕᐅᔪᖅ', 'status-remediation': 'ᐋᖅᑭᒋᐊᕐᓂᖅ',
                'estimator-calculate': 'ᑮᓇᐅᔭᖅᑖᖅᑎᑦᑎᕕᒃ', 'estimator-policies': 'ᑐᒃᓯᕋᕐᓂᖅ ᐱᖁᑎᑦ'
            },
            'fr': {
                'title-home': 'Accueil', 'title-about': 'À Propos', 'title-routes': 'Itinéraires', 'title-safety': 'Sécurité & Données', 'title-team': 'Notre Équipe', 'title-booking': 'Réserver', 'title-experience': 'Expérience', 'title-partners': 'Partenaires', 'title-careers': 'Carrières', 'title-contact': 'Contact', 'title-policy': 'Politiques', 'title-status': 'État du Service',
                'nav-about': 'À Propos', 'nav-routes': 'Itinéraires', 'nav-safety': 'Sécurité', 'nav-team': 'Équipe', 'nav-experience': 'Expérience', 'nav-contact': 'Contact', 'nav-book': 'Réserver',
                'hero-tagline': 'Parcourez le Nord. Apprenez de la Terre.',
                'hero-mission': 'Offrir des expéditions guidées par les Inuits à travers les parcs nationaux du Nunavut avec une sécurité sans compromis, une authenticité culturelle et une intendance environnementale.',
                'cta-view-routes': 'Voir les Itinéraires', 'cta-safety': 'Sécurité & Données', 'cta-book-now': 'Réserver Maintenant',
                'h2-kpis': 'Notre Engagement en Chiffres', 'h2-featured-routes': 'Expéditions en Vedette', 'h2-next-departures': 'Prochains Départs',
                'route-difficulty': 'Difficulté', 'route-duration': 'Durée', 'route-season': 'Saison', 'route-highlights': 'Points Forts',
                'form-name': 'Nom', 'form-email': 'Courriel', 'form-route': 'Itinéraire', 'form-dates': 'Dates Préférées', 'form-group-size': 'Taille du Groupe', 'form-experience': 'Niveau d\'Expérience', 'form-notes': 'Notes Spéciales (Médicales/Diététiques)', 'form-submit': 'Soumettre la Demande de Réservation', 'form-success': 'Demande de réservation envoyée! Nous vous contacterons sous 48 heures.',
                'pricing-tiers': 'Niveaux de Prix', 'availability-calendar': 'Calendrier de Disponibilité', 'gear-lists': 'Listes d\'Équipement', 'itinerary-day': 'Jour', 'itinerary-title': 'Titre', 'itinerary-distance': 'Distance (km)', 'itinerary-ascent': 'Ascension (m)', 'itinerary-description': 'Description',
                'weather-expectations': 'Attentes Météo', 'weather-temp': 'Plage de Temp', 'weather-wind': 'Vent Typique', 'weather-precip': 'Chance de Précip', 'weather-daylight': 'Heures de Lumière',
                'safety-philosophy': 'Philosophie de Sécurité', 'pb-integration': 'Intégration Polar Beacons', 'live-dashboards': 'Tableaux de bord de Sécurité (Maquette Qikiqtarjuaq)', 'alerts-panel': 'Panneau d\'Alertes Actives', 'emergency-protocols': 'Protocoles d\'Urgence',
                'team-leadership': 'Direction', 'team-guides': 'Guides Inuits & de Terrain', 'team-apprentices': 'Cohorte d\'Apprentissage', 'team-support': 'Personnel de Soutien', 'team-org-chart': 'Organigramme', 'team-open-roles': 'Postes Ouverts',
                'experience-narrative': 'Une Journée sur le Sentier', 'experience-testimonials': 'Témoignages Clients', 'experience-gallery': 'Galerie d\'Expédition', 'experience-prep': 'Listes et Conseils de Préparation',
                'partners-academic': 'Académique et Recherche', 'partners-logistics': 'Logistique et Aviation', 'partners-film': 'Film et Médias',
                'careers-apprenticeship': 'Programme d\'Apprentissage Jeunesse Inuit', 'careers-roles': 'Offres d\'Emploi Actuelles',
                'contact-hq': 'Siège Social', 'contact-base': 'Base d\'Expédition', 'contact-form': 'Formulaire de Contact', 'contact-travel-notes': 'Notes de Voyage',
                'status-log': 'Journal d\'Incidents', 'status-service': 'Service', 'status-severity': 'Gravité', 'status-note': 'Note', 'status-remediation': 'Correction',
                'estimator-calculate': 'Estimer le Prix', 'estimator-policies': 'Politiques de Réservation'
            }
        };

        //
        // UI Helpers
        //
        
        /** Logs a message to the internal console and the debug panel. */
        function log(message, type = 'info') {
            const timestamp = new Date().toLocaleTimeString();
            const logEntry = `[${timestamp}] [${type.toUpperCase()}] ${message}`;
            ARCTREK_STATE.debugLog.push(logEntry);
            console.log(logEntry);

            const debugContent = document.getElementById('debug-content');
            if (debugContent) {
                const p = document.createElement('p');
                p.textContent = logEntry;
                p.style.color = type === 'error' || type === 'critical' ? 'var(--red)' : type === 'warn' ? 'var(--yellow)' : 'var(--tundra)';
                debugContent.prepend(p);
            }
            const debugStatus = document.getElementById('debug-status');
            if (debugStatus) {
                 debugStatus.textContent = `(${ARCTREK_STATE.debugLog.length} events)`;
            }
        }

        /** Retrieves the translated string for the current language. */
        function getTranslation(key) {
            const lang = ARCTREK_STATE.currentLang;
            const dict = I18N[lang] || I18N['en'];
            return dict[key] || I18N['en'][key] || `[${key}]`; // Fallback to EN, then key
        }
        
        /** Applies translation to all elements with data-lang-key attribute. */
        function applyTranslations() {
            log(`Applying translations for language: ${ARCTREK_STATE.currentLang}`);
            document.querySelectorAll('[data-lang-key]').forEach(el => {
                const key = el.getAttribute('data-lang-key');
                const translation = getTranslation(key);
                if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
                    if (el.type === 'submit' || el.type === 'button') {
                        el.value = translation;
                    } else if (el.placeholder) {
                        el.placeholder = translation;
                    }
                } else {
                    el.textContent = translation;
                }
            });
            // Update page title
            const routeKey = document.getElementById('app').getAttribute('data-route');
            const titleKey = `title-${routeKey.split('/')[0] || 'home'}`;
            document.title = `${getTranslation(titleKey)} - ArcTrek Expeditions Ltd.`;

            // Update active language button
            document.querySelectorAll('.language-toggle button').forEach(btn => {
                btn.classList.remove('active');
                btn.setAttribute('aria-checked', 'false');
                if (btn.getAttribute('data-lang') === ARCTREK_STATE.currentLang) {
                    btn.classList.add('active');
                    btn.setAttribute('aria-checked', 'true');
                }
            });
        }
        
        /** Generates a standard HTML table string. */
        function table(headers, rows, tableClass = '') {
            let html = `<div class="itinerary-table"><table class="${tableClass}"><thead><tr>`;
            
            headers.forEach(h => {
                const key = h.toLowerCase().replace(/[^a-z0-9]/g, '-');
                const ariaSort = key === 'day' ? 'ascending' : 'none'; // Mock sort for Day column
                html += `<th scope="col" aria-sort="${ariaSort}">${h}</th>`;
            });
            
            html += `</tr></thead><tbody>`;
            
            rows.forEach(row => {
                html += `<tr>`;
                row.forEach(cell => {
                    html += `<td>${cell}</td>`;
                });
                html += `</tr>`;
            });
            
            html += `</tbody></table></div>`;
            return html;
        }

        /** Generates a badge/chip component. */
        function badge(text, type = 'info') {
            const className = `badge badge-${type.toLowerCase()}`;
            const label = type === 'easy' ? 'Low difficulty' : type === 'medium' ? 'Moderate difficulty' : type === 'expert' ? 'High difficulty' : 'Information';
            return `<span class="${className}" role="status" aria-label="${label}">${text}</span>`;
        }

        /** Creates a simple Canvas 2D line or bar chart (Vanilla JS). */
        function makeCanvasChart(canvasId, series, labels, type = 'line', color = 'var(--aurora)') {
            const canvas = document.getElementById(canvasId);
            if (!canvas) {
                log(`Canvas element with ID ${canvasId} not found.`, 'error');
                return;
            }

            const ctx = canvas.getContext('2d');
            canvas.width = canvas.offsetWidth * 2; // For better resolution
            canvas.height = canvas.offsetHeight * 2;
            ctx.scale(0.5, 0.5);

            const W = canvas.width;
            const H = canvas.height;
            const PADDING = 50;
            const CHART_W = W - 2 * PADDING;
            const CHART_H = H - 2 * PADDING;
            
            ctx.clearRect(0, 0, W, H);
            
            const dataMax = Math.max(...series) * 1.1;
            const dataMin = Math.min(...series) * 0.9;
            const dataRange = dataMax - dataMin;
            
            ctx.strokeStyle = getComputedStyle(document.documentElement).getPropertyValue('--tundra').trim();
            ctx.fillStyle = getComputedStyle(document.documentElement).getPropertyValue('--white').trim();
            ctx.font = '30px var(--font-family)';
            
            // Draw Axes
            ctx.beginPath();
            ctx.moveTo(PADDING, PADDING);
            ctx.lineTo(PADDING, H - PADDING);
            ctx.lineTo(W - PADDING, H - PADDING);
            ctx.stroke();

            // Draw Labels (X-Axis)
            labels.forEach((label, i) => {
                if (i % (Math.ceil(labels.length / 6)) === 0 || i === labels.length - 1) { // Show about 6 labels
                    const x = PADDING + i * (CHART_W / (series.length - 1));
                    ctx.textAlign = 'center';
                    ctx.fillText(label, x, H - PADDING + 40);
                }
            });

            // Draw Data
            ctx.strokeStyle = getComputedStyle(document.documentElement).getPropertyValue(color).trim() || color;
            ctx.lineWidth = 4;
            
            ctx.beginPath();
            series.forEach((val, i) => {
                const x = PADDING + i * (CHART_W / (series.length - 1));
                const y = H - PADDING - ((val - dataMin) / dataRange) * CHART_H;
                
                if (type === 'line') {
                    if (i === 0) {
                        ctx.moveTo(x, y);
                    } else {
                        ctx.lineTo(x, y);
                    }
                } else if (type === 'bar') {
                    const barWidth = CHART_W / series.length / 2;
                    ctx.fillStyle = ctx.strokeStyle;
                    ctx.fillRect(x - barWidth / 2, y, barWidth, (H - PADDING) - y);
                }
            });
            if (type === 'line') ctx.stroke();
            
            // Draw Data Points (Line)
            if (type === 'line') {
                ctx.fillStyle = getComputedStyle(document.documentElement).getPropertyValue('--white').trim();
                series.forEach((val, i) => {
                    const x = PADDING + i * (CHART_W / (series.length - 1));
                    const y = H - PADDING - ((val - dataMin) / dataRange) * CHART_H;
                    ctx.beginPath();
                    ctx.arc(x, y, 6, 0, Math.PI * 2, true);
                    ctx.fill();
                    // Add value label
                    if (i % (Math.ceil(labels.length / 4)) === 0 || i === labels.length - 1) {
                         ctx.textAlign = 'center';
                         ctx.fillText(val, x, y - 20);
                    }
                });
            }
        }
        
        /** Generates a simple mock calendar view. */
        function availabilityCalendar(availabilityDates) {
            const today = new Date();
            const year = today.getFullYear() + 1; // Mock for next year's bookings
            const month = 7; // Start in July (7)

            const startOfMonth = new Date(year, month - 1, 1);
            const daysInMonth = new Date(year, month, 0).getDate();
            const firstDayOfWeek = startOfMonth.getDay(); // 0 (Sun) to 6 (Sat)
            
            // Convert mock dates to a Set for fast lookup
            const availableSet = new Set(availabilityDates.map(d => new Date(d).toISOString().split('T')[0]));
            
            const dayNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            
            let html = `<div class="calendar-grid">`;
            
            // Month Header
            html += `<div class="calendar-month-header" role="heading" aria-level="3">${new Date(year, month - 1).toLocaleString('en-US', { month: 'long', year: 'numeric' })}</div>`;
            
            // Day Names Header
            dayNames.forEach(day => {
                html += `<div class="calendar-header">${day}</div>`;
            });

            // Blank days at start
            for (let i = 0; i < firstDayOfWeek; i++) {
                html += `<div class="calendar-day calendar-unavailable"></div>`;
            }

            // Days of the Month
            for (let i = 1; i <= daysInMonth; i++) {
                const currentDate = new Date(year, month - 1, i);
                const isoDate = currentDate.toISOString().split('T')[0];
                const isAvailable = availableSet.has(isoDate);
                
                const classes = isAvailable ? 'calendar-available' : 'calendar-unavailable';
                const status = isAvailable ? 'Available' : 'Booked/Unavailable';
                
                html += `<div class="calendar-day ${classes}" role="gridcell" aria-label="Day ${i}, ${status}">
                    <span class="calendar-day-label">${i}</span>`;
                
                if (isAvailable) {
                    const departure = ARCTREK_DATA.nextDepartures.find(d => new Date(d.date).toISOString().split('T')[0] === isoDate);
                    if (departure) {
                        html += `<span class="calendar-slots">${departure.slots} slots</span>`;
                        html += `<p style="font-size:0.7em; color:var(--white);">${departure.priceBand}</p>`;
                    }
                } else {
                    html += `<span class="calendar-slots text-secondary">---</span>`;
                }

                html += `</div>`;
            }

            html += `</div>`;
            return html;
        }

        //
        // Router & App State
        //
        
        const routes = {
            '': renderHome,
            'about': renderAbout,
            'routes': renderRoutes,
            'safety': renderSafety,
            'team': renderTeam,
            'booking': renderBooking,
            'experience': renderExperience,
            'partners': renderPartnerships,
            'careers': renderCareers,
            'contact': renderContact,
            'policy/privacy': renderPolicyPrivacy,
            'policy/terms': renderPolicyTerms,
            'status': renderStatus,
            'routes/:id': renderRouteDetail // Dynamic route handler
        };

        /** Core routing logic. */
        function router() {
            const path = window.location.hash.slice(2); // Remove #/
            log(`Routing to: /${path}`);
            
            const [segment, ...rest] = path.split('/');
            let routeHandler = null;
            let params = [];

            if (segment === 'routes' && rest.length > 0) {
                // Route detail: /routes/akshayuk
                routeHandler = routes['routes/:id'];
                params = [rest[0]];
                document.getElementById('app').setAttribute('data-route', 'routes');
            } else if (routes[path]) {
                // Exact match
                routeHandler = routes[path];
                document.getElementById('app').setAttribute('data-route', segment || 'home');
            } else if (routes[segment] && rest.length === 0) {
                // Base match (e.g., #/routes)
                routeHandler = routes[segment];
                document.getElementById('app').setAttribute('data-route', segment);
            } else {
                // 404/Fallback to Home
                log(`Route not found for: /${path}. Redirecting to home.`, 'warn');
                window.location.hash = '/';
                return;
            }

            const app = document.getElementById('app');
            app.innerHTML = ''; // Clear content
            if (routeHandler) {
                routeHandler(...params);
                applyTranslations();
                // Ensure mobile menu is closed on navigation
                document.getElementById('nav-mobile-menu').classList.remove('active');
                document.getElementById('nav-mobile-toggle').setAttribute('aria-expanded', 'false');
            }
            window.scrollTo(0, 0); // Scroll to top on page change
        }

        /** Sets the language preference and triggers a re-render/re-translation. */
        function setLanguage(lang) {
            if (ARCTREK_STATE.currentLang !== lang) {
                ARCTREK_STATE.currentLang = lang;
                localStorage.setItem('arctrek_lang', lang);
                log(`Language set to: ${lang}`);
                // Re-render the current route to apply new translations
                router(); 
            }
        }
        
        //
        // Event Listeners
        //
        
        window.addEventListener('hashchange', router);
        
        // Initial load: Render Home if no hash is present
        window.addEventListener('DOMContentLoaded', () => {
            log('DOM Content Loaded. Starting SPA.');
            router();
            document.getElementById('current-year').textContent = new Date().getFullYear();
            
            // Mobile Menu Toggle
            const toggleBtn = document.getElementById('nav-mobile-toggle');
            const mobileMenu = document.getElementById('nav-mobile-menu');
            toggleBtn.addEventListener('click', () => {
                const isExpanded = toggleBtn.getAttribute('aria-expanded') === 'true' || false;
                toggleBtn.setAttribute('aria-expanded', !isExpanded);
                mobileMenu.classList.toggle('active');
            });
            
            // Language Toggle Handlers
            document.querySelectorAll('.language-toggle button').forEach(button => {
                button.addEventListener('click', (e) => {
                    const lang = e.target.getAttribute('data-lang');
                    setLanguage(lang);
                });
            });
            // Initial language application
            applyTranslations(); 
        });

        //
        // Renderers (The core of the SPA)
        //

        function renderHome() {
            const html = `
                <section class="hero" id="main-content">
                    <div class="container stack">
                        <h1 data-lang-key="hero-tagline">${getTranslation('hero-tagline')}</h1>
                        <p class="text-secondary" data-lang-key="hero-mission">${getTranslation('hero-mission')}</p>
                        <div class="cluster">
                            <a href="#/routes" class="btn btn-primary" data-lang-key="cta-view-routes">${getTranslation('cta-view-routes')}</a>
                            <a href="#/safety" class="btn btn-outline" data-lang-key="cta-safety">${getTranslation('cta-safety')}</a>
                            <a href="#/booking" class="btn btn-primary" data-lang-key="cta-book-now">${getTranslation('cta-book-now')}</a>
                        </div>
                    </div>
                </section>

                <div class="container section">
                    <h2 data-lang-key="h2-kpis">${getTranslation('h2-kpis')}</h2>
                    <div class="grid grid-3">
                        ${ARCTREK_DATA.kpis.map(kpi => `
                            <div class="card stack">
                                <h3>${kpi.value}</h3>
                                <p style="color:var(--aurora); font-weight:bold;">${kpi.label}</p>
                                <p class="text-secondary">${kpi.description}</p>
                            </div>
                        `).join('')}
                    </div>
                    
                    ---
                    
                    <h2 data-lang-key="h2-featured-routes">${getTranslation('h2-featured-routes')}</h2>
                    <div class="grid grid-2">
                        ${ARCTREK_DATA.routes.slice(0, 3).map(route => `
                            <div class="card card-route stack">
                                <h3><a href="#/routes/${route.id}" aria-label="Explore ${route.name} route">${route.name}</a></h3>
                                <p class="text-secondary">${route.region}</p>
                                <div class="cluster">
                                    ${badge(route.difficulty, route.difficulty.toLowerCase())}
                                    ${badge(`${route.durationDays} Days`, 'info')}
                                </div>
                                <p>${route.overview.substring(0, 150)}...</p>
                                <a href="#/routes/${route.id}" class="btn btn-outline" style="align-self: flex-start;">View Expedition Details</a>
                            </div>
                        `).join('')}
                    </div>

                    ---

                    <h2>Expedition Hubs & Logistics</h2>
                    <p class="text-secondary">Our operations rely on strategic northern hubs. Logistics are managed end-to-end with North Winds Airlines and Ima Sealift Solutions.</p>
                    <div id="map-placeholder" role="img" aria-label="Map placeholder showing expedition hubs in Nunavut">
                        <svg width="100%" height="100%" viewBox="0 0 1000 600" preserveAspectRatio="xMidYMid slice">
                            <rect width="100%" height="100%" fill="#223344" />
                            <circle cx="750" cy="120" r="50" fill="rgba(100, 255, 218, 0.1)" stroke="var(--aurora)" stroke-width="2" />
                            <circle cx="600" cy="30" r="30" fill="rgba(100, 255, 218, 0.1)" stroke="var(--aurora)" stroke-width="2" />
                            <circle cx="300" cy="60" r="25" fill="rgba(100, 255, 218, 0.1)" stroke="var(--aurora)" stroke-width="2" />
                            <text x="50" y="580" fill="var(--tundra)" font-size="20">Baffin Island / High Arctic Region (Simplified)</text>

                            <div class="map-dot" style="left: 74%; top: 18%;" data-hub="Qikiqtarjuaq" tabindex="0"></div>
                            <span class="tooltip" style="left: 76%; top: 16%;">Qikiqtarjuaq (HQ/Logistics)</span>

                            <div class="map-dot" style="left: 59%; top: 3%;" data-hub="Pond Inlet" tabindex="0"></div>
                            <span class="tooltip" style="left: 61%; top: 1%;">Pond Inlet (Sirmilik Base)</span>

                            <div class="map-dot" style="left: 29%; top: 8%;" data-hub="Resolute" tabindex="0"></div>
                            <span class="tooltip" style="left: 31%; top: 6%;">Resolute (Quttinirpaaq Staging)</span>
                        </svg>
                    </div>
                    
                    ---

                    <div class="grid grid-2" style="align-items: flex-start;">
                        <div class="stack">
                            <h2 data-lang-key="h2-next-departures">${getTranslation('h2-next-departures')}</h2>
                            ${table([getTranslation('route-duration'), 'Date', 'Slots'], ARCTREK_DATA.nextDepartures.map(d => [
                                `<a href="#/routes/${d.routeId}">${ARCTREK_DATA.routes.find(r => r.id === d.routeId)?.name || d.routeId}</a>`,
                                d.date,
                                d.slots > 3 ? `${d.slots} Available` : `${d.slots} Low`
                            ]))}
                            <p class="text-center"><a href="#/booking" class="btn btn-outline" data-lang-key="cta-book-now">${getTranslation('cta-book-now')}</a></p>
                        </div>
                        <div class="stack">
                            <h2>Recent Weather Trend (Polar Beacons)</h2>
                            <div class="chart-container">
                                <canvas id="home-chart" width="400" height="300" role="presentation"></canvas>
                            </div>
                            <p class="text-secondary" style="font-size: 0.8em; text-align:center;">24hr temperature trend from our Qikiqtarjuaq base.</p>
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('app').innerHTML = html;
            
            // Post-render: Draw Canvas Chart
            const temps = ARCTREK_DATA.dashboards.temp;
            const hours = ARCTREK_DATA.dashboards.timestamps;
            setTimeout(() => { // Timeout for canvas size to be calculated by CSS
                makeCanvasChart('home-chart', temps, hours, 'line', '--aurora');
            }, 100);
        }
        
        function renderAbout() {
            const html = `
                <section class="section container stack" id="main-content">
                    <h1>${getTranslation('title-about')}</h1>
                    <p class="text-secondary">${ARCTREK_DATA.company.tagline}</p>
                    
                    <h2>Our Origin</h2>
                    <p>${ARCTREK_DATA.company.ethos.origin}</p>
                    <p>ArcTrek Expeditions Ltd. operates as a proud subsidiary of the **NWPH group**, dedicated to fostering sustainable, high-value tourism across Nunavut.</p>
                    
                    ---
                    
                    <h2>Cultural Governance</h2>
                    <p class="text-secondary">${ARCTREK_DATA.company.ethos.culturalGovernance}</p>
                    <p>We believe that access to the land (Nunami) must be guided by those who know it best. Our commitment extends beyond simple employment; it is a fiduciary duty to the communities we serve. This model ensures every expedition is rooted in respect and mutual benefit.</p>
                    
                    ---
                    
                    <h2>Environmental Ethics</h2>
                    <p class="text-secondary">${ARCTREK_DATA.company.ethos.environmentalEthics}</p>
                    <p>Our mandate includes specific protocols for sensitive areas, including mandatory waste pack-out (including human waste), wildlife viewing distances, and adapting routes to seasonal changes (e.g., caribou migration, ice break-up). We partner with local researchers to minimize our footprint.</p>
                    
                    ---
                    
                    <h2>Data Integration for Responsible Routing</h2>
                    <p>We use real-time environmental data from **Polar Beacons** for informed, responsible routing. This data allows our guides to predict localized weather phenomena, track sea-ice stability, and make adaptive decisions that prioritize both safety and environmental protection.</p>
                    
                    <a href="#/safety" class="btn btn-outline" style="margin-top: var(--spacing-md);">View Safety & Data Protocols</a>
                </section>
            `;
            document.getElementById('app').innerHTML = html;
        }

        function renderRoutes() {
            const html = `
                <section class="section container stack" id="main-content">
                    <h1>${getTranslation('title-routes')}</h1>
                    <p class="text-secondary">Choose your path through the Nunavut wilderness. From challenging mountain traverses to unique floe edge wildlife experiences, every route is Inuit-led and meticulously planned.</p>
                    
                    <h2>Filter Routes (Stub)</h2>
                    <div class="cluster" style="margin-bottom: var(--spacing-lg);">
                        <select aria-label="Filter by Difficulty">
                            <option value="">Difficulty (All)</option>
                            <option value="easy">Easy</option>
                            <option value="medium">Medium</option>
                            <option value="expert">Expert</option>
                        </select>
                        <select aria-label="Filter by Season">
                            <option value="">Season (All)</option>
                            <option value="summer">Summer</option>
                            <option value="spring">Spring/Floe Edge</option>
                        </select>
                        <select aria-label="Filter by Style">
                            <option value="">Style (All)</option>
                            <option value="hike">Hike/Trek</option>
                            <option value="ski">Ski Expedition</option>
                            <option value="floe">Floe Edge</option>
                        </select>
                        <button class="btn btn-outline" disabled style="opacity: 0.5;">Apply Filters</button>
                    </div>

                    <div class="grid grid-3">
                        ${ARCTREK_DATA.routes.map(route => `
                            <div class="card card-route stack">
                                <h3><a href="#/routes/${route.id}" aria-label="Explore ${route.name}">${route.name}</a></h3>
                                <p class="text-secondary">${route.region}</p>
                                <div class="cluster">
                                    ${badge(route.difficulty, route.difficulty.toLowerCase())}
                                    ${badge(`${route.durationDays} Days`, 'info')}
                                    ${badge(route.season, 'season')}
                                </div>
                                <ul>
                                    ${route.highlights.slice(0, 3).map(h => `<li><small class="text-secondary">${h}</small></li>`).join('')}
                                </ul>
                                <p>Group Size: ${route.maxGroupSize || 'Custom'}</p>
                                <a href="#/routes/${route.id}" class="btn btn-outline" style="align-self: flex-start;">Details & Itinerary</a>
                            </div>
                        `).join('')}
                    </div>
                </section>
            `;
            document.getElementById('app').innerHTML = html;
        }

        function renderRouteDetail(routeId) {
            const route = ARCTREK_DATA.routes.find(r => r.id === routeId);
            if (!route) {
                return renderError(`Route ID ${routeId} not found.`);
            }
            
            // Itinerary Table
            const itineraryHeaders = [
                getTranslation('itinerary-day'), 
                getTranslation('itinerary-title'), 
                getTranslation('itinerary-distance'), 
                getTranslation('itinerary-ascent'), 
                getTranslation('itinerary-description')
            ];
            const itineraryRows = route.itinerary.map(day => [
                day.day, 
                day.title, 
                `${day.distanceKm} km`, 
                day.ascentM === 0 ? 'Flat' : `${day.ascentM} m`, 
                day.description
            ]);
            const itineraryTable = table(itineraryHeaders, itineraryRows, 'itinerary-table');
            
            // Weather Table
            const w = route.weatherExpectations;
            const weatherHeaders = [
                getTranslation('weather-temp'), 
                getTranslation('weather-wind'), 
                getTranslation('weather-precip'), 
                getTranslation('weather-daylight')
            ];
            const weatherRows = [[w.tempRange, w.windTypical, w.precipChance, w.daylightHoursBySeason]];
            const weatherTable = table(weatherHeaders, weatherRows, 'weather-table');
            
            // Pricing Table
            const pricingHeaders = ['Feature', ...route.pricingTiers.map(t => `${t.name} (${t.price})`)];
            
            // Collect all unique inclusions/exclusions
            const allFeatures = new Set();
            route.pricingTiers.forEach(tier => {
                tier.includes.forEach(inc => allFeatures.add(inc));
                tier.excludes.forEach(exc => allFeatures.add(exc));
            });
            
            const pricingRows = Array.from(allFeatures).map(feature => {
                const row = [feature];
                route.pricingTiers.forEach(tier => {
                    if (tier.includes.includes(feature)) {
                        row.push('<span class="included">Included</span>');
                    } else if (tier.excludes.includes(feature)) {
                         row.push('<span class="excluded">Excluded</span>');
                    } else if (tier.name === 'Premium Private' && feature === 'All-inclusive logistics') {
                        // Special case for POA/Custom
                        row.push('<span class="included">Tailored</span>');
                    } else {
                        row.push('---');
                    }
                });
                return row;
            });
            const pricingTable = `<div class="pricing-table">${table(pricingHeaders, pricingRows)}</div>`;
            
            // Elevation Profile SVG (Generic for demo)
            const elevData = route.elevationProfile;
            const maxElev = Math.max(...elevData);
            const points = elevData.map((e, i) => {
                const x = (i / (elevData.length - 1)) * 100;
                const y = 100 - (e / maxElev) * 100;
                return `${x},${y}`;
            }).join(' ');

            const elevationSvg = `
                <div style="background-color: var(--dark-gray); padding: var(--spacing-md); border-radius: var(--radius-md);">
                    <svg viewBox="0 0 100 100" preserveAspectRatio="none" style="width:100%; height:150px;">
                        <polyline points="${points}" fill="var(--navy)" stroke="var(--aurora)" stroke-width="1.5" />
                        <text x="5" y="10" fill="var(--white)" font-size="5" dominant-baseline="hanging">${maxElev}m</text>
                        <text x="95" y="95" fill="var(--white)" font-size="5" text-anchor="end">${elevData.length} Days</text>
                    </svg>
                    <p class="text-center text-secondary" style="margin-top: var(--spacing-sm);">Elevation Profile (Simplified) - Max Elevation: ${maxElev}m</p>
                </div>
            `;
            
            const html = `
                <section class="section container stack" id="main-content">
                    <h1>${route.name} <span class="text-secondary">(${route.region})</span></h1>
                    <div class="cluster" style="margin-bottom: var(--spacing-lg);">
                        ${badge(route.difficulty, route.difficulty.toLowerCase())}
                        ${badge(`${route.durationDays} Days`, 'info')}
                        ${badge(`${route.distanceKm} km`, 'info')}
                        ${badge(route.season, 'season')}
                        ${badge(`Group Max: ${route.maxGroupSize || 'Custom'}`, 'info')}
                    </div>
                    
                    <h2>Overview & Narrative</h2>
                    <p class="text-secondary">${route.overview.split('\n').map(p => `<p class="text-secondary">${p}</p>`).join('')}</p>
                    
                    <div class="grid grid-2">
                        <div class="stack">
                            <h3>Terrain & Conditions</h3>
                            <ul>
                                ${route.highlights.map(h => `<li class="text-secondary">✅ ${h}</li>`).join('')}
                            </ul>
                        </div>
                        <div class="stack">
                            <h3>Logistics & Access</h3>
                            <p class="text-secondary">Integrated logistics with: ${ARCTREK_DATA.company.partners.filter(p => p.category.includes('Aviation') || p.category.includes('Marine')).map(p => `<strong>${p.name}</strong>`).join(' and ')}.</p>
                        </div>
                    </div>

                    ---
                    
                    <div class="grid grid-2">
                        <div class="stack">
                            <h2>${getTranslation('weather-expectations')}</h2>
                            ${weatherTable}
                        </div>
                        <div class="stack">
                            <h2>Safety Notes & Polar Beacons</h2>
                            <p class="text-secondary">${route.safetyNotes}</p>
                            <a href="#/safety" class="btn btn-outline" style="align-self: flex-start;">View Full Safety Protocol</a>
                        </div>
                    </div>

                    ---

                    <h2>${getTranslation('itinerary-day')} by Day</h2>
                    ${itineraryTable}
                    
                    ---
                    
                    <h2>${getTranslation('gear-lists')}</h2>
                    <div class="grid grid-3">
                        <div class="card stack">
                            <h3>Required</h3>
                            <ul>
                                ${route.gearList.required.map(g => `<li class="text-secondary">✅ ${g}</li>`).join('')}
                            </ul>
                        </div>
                        <div class="card stack">
                            <h3>Optional</h3>
                            <ul>
                                ${route.gearList.optional.map(g => `<li class="text-secondary">💡 ${g}</li>`).join('')}
                            </ul>
                        </div>
                        <div class="card stack">
                            <h3>Rental Options</h3>
                            <ul>
                                ${route.gearList.rentals.map(g => `<li class="text-secondary">🛠️ ${g}</li>`).join('')}
                            </ul>
                            <a href="#/experience" class="btn btn-outline" style="align-self: flex-start;">Full Prep Guide</a>
                        </div>
                    </div>

                    ---
                    
                    <h2>${getTranslation('pricing-tiers')}</h2>
                    ${pricingTable}

                    ---

                    <h2>${getTranslation('availability-calendar')} & Elevation</h2>
                    <div class="grid grid-2">
                        <div class="stack">
                            <h3>Upcoming Dates</h3>
                            ${availabilityCalendar(route.availability)}
                        </div>
                        <div class="stack">
                            <h3>Elevation Profile</h3>
                            ${elevationSvg}
                        </div>
                    </div>

                    <p class="text-center" style="margin-top: var(--spacing-xl);">
                        <a href="#/booking?route=${route.id}" class="btn btn-primary btn-lg" data-lang-key="cta-book-now" style="font-size:1.2em;">${getTranslation('cta-book-now')}</a>
                    </p>
                </section>
            `;
            document.getElementById('app').innerHTML = html;
        }
        
        function renderSafety() {
            const tempSeries = ARCTREK_DATA.dashboards.temp;
            const windSeries = ARCTREK_DATA.dashboards.wind;
            const pressureSeries = ARCTREK_DATA.dashboards.pressure;
            const hours = ARCTREK_DATA.dashboards.timestamps;
            
            const html = `
                <section class="section container stack" id="main-content">
                    <h1>${getTranslation('title-safety')}</h1>
                    <p class="text-secondary">${ARCTREK_DATA.company.tagline}</p>
                    
                    <h2>${getTranslation('safety-philosophy')}</h2>
                    <p class="text-secondary">ArcTrek expeditions are planned and run with a safety-first mindset. Our guides receive continuous updates from Polar Beacons — a northern network of IoT weather stations — to monitor temperature swings, wind shifts, pressure drops, and sea-ice indicators. When thresholds are met, routes are adjusted or paused based on pre-defined decision matrices, ensuring guest safety without compromising respect for the land.</p>
                    
                    ---
                    
                    <h2>${getTranslation('pb-integration')} Explained</h2>
                    <div id="polar-beacons-diagram" role="figure" aria-label="Diagram showing data flow from Polar Beacons to ArcTrek Safety">
                        <div class="diagram-box">Polar Beacons IoT Network (Temp, Wind, Ice, Pressure)</div>
                        <div class="diagram-arrow">➡️</div>
                        <div class="diagram-box">ArcTrek Safety Server (Threshold Analysis)</div>
                        <div class="diagram-arrow">➡️</div>
                        <div class="diagram-box">Inuit Lead Guide (Decision Matrix/Reroute)</div>
                    </div>
                    <p class="text-center text-secondary">This integration allows for hyper-local, real-time decision-making, far beyond standard regional forecasts.</p>
                    
                    ---
                    
                    <h2>${getTranslation('live-dashboards')}</h2>
                    
                    <div class="card grid grid-3">
                        <div class="stack">
                            <h3>Current Conditions</h3>
                            <p><strong>Outside Temp:</strong> ${tempSeries[tempSeries.length - 1]} °C</p>
                            <p><strong>Wind Speed/Dir:</strong> ${windSeries[windSeries.length - 1]} km/h E</p>
                            <p><strong>Barometric Pressure:</strong> ${pressureSeries[pressureSeries.length - 1]} hPa</p>
                            <p><strong>Humidity:</strong> ${ARCTREK_DATA.dashboards.humidity[ARCTREK_DATA.dashboards.humidity.length - 1]}%</p>
                            <p><strong>UV Index:</strong> ${ARCTREK_DATA.dashboards.uv[ARCTREK_DATA.dashboards.uv.length - 1]}</p>
                            <p><strong>Precip Rate:</strong> ${ARCTREK_DATA.dashboards.precipRate[ARCTREK_DATA.dashboards.precipRate.length - 1]} mm/h (Snow)</p>
                        </div>
                        <div class="stack" style="grid-column: span 2;">
                            <h3>${getTranslation('alerts-panel')}</h3>
                            <div class="stack" style="max-height: 200px; overflow-y: auto;">
                                ${ARCTREK_DATA.alerts.map(a => `
                                    <div class="card" style="border-left: 5px solid var(--${a.severity}); padding: var(--spacing-sm);">
                                        <strong>${a.title}</strong> <span style="color:var(--tundra); font-size: 0.8em;">(${a.timestamp})</span>
                                        <p class="text-secondary" style="margin-bottom:0;">${a.message}</p>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>

                    <div class="grid grid-2" style="margin-top: var(--spacing-lg);">
                        <div class="stack">
                            <h3>24hr Temperature Trend (°C)</h3>
                            <div class="chart-container"><canvas id="temp-chart" width="400" height="300" role="presentation"></canvas></div>
                        </div>
                        <div class="stack">
                            <h3>24hr Wind Speed Trend (km/h)</h3>
                            <div class="chart-container"><canvas id="wind-chart" width="400" height="300" role="presentation"></canvas></div>
                        </div>
                    </div>
                    
                    ---
                    
                    <h2>${getTranslation('emergency-protocols')}</h2>
                    <div class="grid grid-2">
                        <div class="card stack">
                            <h3>Communications Redundancy</h3>
                            <p class="text-secondary">Every team carries multiple comms systems: Satellite Phone (primary), InReach/SPOT (secondary tracking/messaging), and VHF/UHF radio (local backup). Check-in protocols are mandatory every 4 hours.</p>
                        </div>
                        <div class="card stack">
                            <h3>Medevac & Decision Thresholds</h3>
                            <p class="text-secondary">We partner with specialized air ambulance services. Decision to evacuate (or shelter-in-place) is based on a clear matrix weighing injury severity, weather/visibility, guide certification level, and proximity to a safe zone. **Shelter-in-place is always the default safe option in whiteout.**</p>
                        </div>
                    </div>
                </section>
            `;
            document.getElementById('app').innerHTML = html;
            
            // Post-render: Draw Canvas Charts
            setTimeout(() => { 
                makeCanvasChart('temp-chart', tempSeries, hours, 'line', '--red');
                makeCanvasChart('wind-chart', windSeries, hours, 'bar', '--blue');
            }, 100);
        }

        function renderTeam() {
            const t = ARCTREK_DATA.team;
            
            const guideHeaders = ['Name', 'Level', 'Specialties', 'Certs', 'Languages'];
            const guideRows = t.guides.map(g => [g.name, badge(g.level.split(' ')[0], 'info'), g.specialties.join(', '), g.certs.join(', '), g.languages.join('/')]);
            const guideTable = table(guideHeaders, guideRows);

            const apprenticeHeaders = ['Name', 'Cohort', 'Focus', 'Stage'];
            const apprenticeRows = t.apprentices.map(a => [a.name, a.cohort, a.focus, badge(a.stage.split(' ')[0], a.stage.includes('Graduate') ? 'aurora' : 'tundra')]);
            const apprenticeTable = table(apprenticeHeaders, apprenticeRows);
            
            const rolesHeaders = ['Title', 'Location', 'Contract Type', 'Apply'];
            const rolesRows = t.openRoles.map(r => [r.title, r.location, r.contractType, `<a href="#/careers" aria-label="Apply for ${r.title}">Apply</a>`]);
            const rolesTable = table(rolesHeaders, rolesRows);
            
            const html = `
                <section class="section container stack" id="main-content">
                    <h1>${getTranslation('title-team')}</h1>
                    <p class="text-secondary">Our strength is our people: Inuit leadership, certified safety experts, and committed local apprentices.</p>
                    
                    <h2>${getTranslation('team-leadership')}</h2>
                    <div class="grid grid-3">
                        ${t.leadership.map(l => `
                            <div class="card stack">
                                <h3>${l.name}</h3>
                                <p style="color:var(--aurora); font-weight:bold;">${l.role}</p>
                                <p class="text-secondary"><strong>Mandate:</strong> ${l.mandate}</p>
                                <p style="font-size:0.9em;">${l.bio.substring(0, 150)}...</p>
                                <small class="text-secondary">Tenure: ${l.tenure}</small>
                            </div>
                        `).join('')}
                    </div>

                    ---
                    
                    <h2>${getTranslation('team-guides')} & Expertise</h2>
                    ${guideTable}
                    
                    ---
                    
                    <h2>${getTranslation('team-apprentices')} & ${getTranslation('team-support')}</h2>
                    <div class="grid grid-2">
                        <div class="stack">
                            <h3>${getTranslation('team-apprenticeship')}</h3>
                            ${apprenticeTable}
                            <a href="#/careers" class="btn btn-outline" style="align-self: flex-start;">View Apprenticeship Track</a>
                        </div>
                        <div class="stack">
                            <h3>${getTranslation('team-support')}</h3>
                            ${t.support.map(s => `
                                <div class="card stack" style="padding:var(--spacing-sm);">
                                    <h4 style="color:var(--white);">${s.role}</h4>
                                    <p class="text-secondary" style="font-size:0.9em; margin-bottom:0;">${s.bio}</p>
                                </div>
                            `).join('')}
                        </div>
                    </div>

                    ---
                    
                    <h2>${getTranslation('team-org-chart')} (Simplified)</h2>
                    <div id="org-chart" role="group" aria-label="ArcTrek Expeditions Organizational Chart">
                        <div class="org-level">
                            <div class="org-box">
                                <h4>Elder Counsel</h4>
                                <p>Cultural Governance</p>
                            </div>
                        </div>
                        <div class="org-level" style="margin-top: -10px;">|</div>
                        <div class="org-level">
                            <div class="org-box">
                                <h4>K. Eegeesiak</h4>
                                <p>General Manager</p>
                            </div>
                        </div>
                        <div class="org-level" style="margin-top: -10px;">|</div>
                        <div class="org-level">
                            <div class="org-box">
                                <h4>S. Jensen</h4>
                                <p>Safety Director</p>
                            </div>
                            <div class="org-box">
                                <h4>P. Alariaq</h4>
                                <p>Cultural Director</p>
                            </div>
                            <div class="org-box">
                                <h4>Operations Director</h4>
                                <p>Logistics & Field Ops</p>
                            </div>
                        </div>
                        <div class="org-level" style="margin-top: -10px;">|</div>
                        <div class="org-level">
                            <div class="org-box">
                                <h4>Lead Guides</h4>
                                <p>Field Expeditions</p>
                            </div>
                            <div class="org-box">
                                <h4>Apprentices</h4>
                                <p>Youth Pipeline</p>
                            </div>
                        </div>
                    </div>

                    ---
                    
                    <h2>${getTranslation('team-open-roles')}</h2>
                    ${rolesTable}
                </section>
            `;
            document.getElementById('app').innerHTML = html;
        }

        function renderBooking() {
            const initialRoute = window.location.hash.split('route=')[1] || '';
            const routeOptions = ARCTREK_DATA.routes.map(r => `<option value="${r.id}" ${initialRoute === r.id ? 'selected' : ''}>${r.name} (${r.difficulty})</option>`).join('');

            const html = `
                <section class="section container stack" id="main-content">
                    <h1>${getTranslation('title-booking')}</h1>
                    <p class="text-secondary">Ready to traverse the North? Complete the form below to initiate your booking. A specialist will follow up to finalize details and confirm availability.</p>
                    
                    <form id="booking-form" class="card stack" aria-labelledby="booking-form-header">
                        <h2 id="booking-form-header">Expedition Request Form</h2>
                        <div class="grid grid-2">
                            <div class="form-group"><label for="b-name" data-lang-key="form-name">${getTranslation('form-name')}*</label><input type="text" id="b-name" required aria-required="true"></div>
                            <div class="form-group"><label for="b-email" data-lang-key="form-email">${getTranslation('form-email')}*</label><input type="email" id="b-email" required aria-required="true"></div>
                        </div>
                        <div class="grid grid-3">
                            <div class="form-group">
                                <label for="b-route" data-lang-key="form-route">${getTranslation('form-route')}*</label>
                                <select id="b-route" required aria-required="true">
                                    <option value="">Select an Expedition</option>
                                    ${routeOptions}
                                </select>
                            </div>
                            <div class="form-group"><label for="b-dates" data-lang-key="form-dates">${getTranslation('form-dates')}</label><input type="text" id="b-dates" placeholder="e.g., July 15 - 25, 2026"></div>
                            <div class="form-group"><label for="b-group-size" data-lang-key="form-group-size">${getTranslation('form-group-size')}</label><input type="number" id="b-group-size" value="1" min="1" required aria-required="true"></div>
                        </div>
                        <div class="form-group">
                            <label for="b-experience" data-lang-key="form-experience">${getTranslation('form-experience')}</label>
                            <select id="b-experience">
                                <option value="novice">Novice (Little to no multi-day experience)</option>
                                <option value="intermediate">Intermediate (Regular backpacking/camping)</option>
                                <option value="expert">Expert (Expedition-level self-sufficiency)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="b-notes" data-lang-key="form-notes">${getTranslation('form-notes')}</label>
                            <textarea id="b-notes"></textarea>
                        </div>
                        
                        <input type="submit" class="btn btn-primary" data-lang-key="form-submit" value="${getTranslation('form-submit')}">
                        <div id="booking-message" style="margin-top: var(--spacing-md); color: var(--aurora); font-weight: bold; display:none;" role="alert"></div>
                    </form>

                    ---

                    <h2>Price Estimator (Stub)</h2>
                    <div class="card stack">
                        <div class="grid grid-2">
                            <div class="form-group"><label for="est-route">Route</label><select id="est-route">${routeOptions}</select></div>
                            <div class="form-group"><label for="est-days">Total Days</label><input type="number" id="est-days" value="10" min="1"></div>
                            <div class="form-group"><label for="est-group">Group Size</label><input type="number" id="est-group" value="2" min="1"></div>
                            <div class="form-group"><label for="est-addons">Add-ons</label><select id="est-addons"><option value="none">None</option><option value="cultural">Cultural Immersion</option><option value="gear">Full Gear Rental</option></select></div>
                        </div>
                        <button id="calculate-price" class="btn btn-outline" data-lang-key="estimator-calculate">${getTranslation('estimator-calculate')}</button>
                        <div style="margin-top: var(--spacing-md);">
                            <h3 style="margin-bottom: var(--spacing-sm);">Estimated Total: <span id="estimated-price" style="color:var(--aurora);">---</span> CAD</h3>
                            <p class="text-secondary" style="font-size:0.8em;">*Estimate does not include flights or taxes. For final pricing, please submit a booking request.</p>
                        </div>
                    </div>
                    
                    ---
                    
                    <h2>${getTranslation('estimator-policies')}</h2>
                    <div class="grid grid-2">
                        <div class="card stack">
                            <h3>Deposit & Cancellation</h3>
                            <p class="text-secondary">Deposits are non-refundable. Final payment is due 90 days prior to departure. Cancellations within 60 days forfeit the full expedition fee.</p>
                        </div>
                        <div class="card stack">
                            <h3>Weather Disruptions</h3>
                            <p class="text-secondary">Itineraries may be altered, delayed, or terminated at the sole discretion of the Lead Guide/Safety Director due to weather, ice conditions, or animal activity. No refunds are given for weather-related delays/changes.</p>
                        </div>
                    </div>
                </section>
            `;
            document.getElementById('app').innerHTML = html;
            
            // Post-render: Add event listeners
            document.getElementById('booking-form').addEventListener('submit', handleFormSubmit);
            document.getElementById('calculate-price').addEventListener('click', priceEstimator);
            
            // Set initial estimated price based on defaults
            priceEstimator();
        }

        /** Simple stub form handler. */
        function handleFormSubmit(event) {
            event.preventDefault();
            log('Booking form submitted (stubbed network call).', 'info');
            
            const form = event.target;
            const messageEl = document.getElementById('booking-message');

            if (!form.checkValidity()) {
                 messageEl.textContent = 'Please fill out all required fields.';
                 messageEl.style.color = 'var(--red)';
                 messageEl.style.display = 'block';
                 log('Form validation failed.', 'warn');
                 return;
            }

            // Mock success
            const formData = new FormData(form);
            const routeName = ARCTREK_DATA.routes.find(r => r.id === document.getElementById('b-route').value)?.name || 'Custom Route';
            log(`Booking for ${routeName} by ${document.getElementById('b-name').value} successfully recorded (stub).`, 'success');
            
            form.reset();
            messageEl.textContent = getTranslation('form-success');
            messageEl.style.color = 'var(--aurora)';
            messageEl.style.display = 'block';

            // Hide after a delay
            setTimeout(() => { messageEl.style.display = 'none'; }, 5000);
        }

        /** Simple price calculator stub. */
        function priceEstimator() {
            const routeId = document.getElementById('est-route').value;
            const route = ARCTREK_DATA.routes.find(r => r.id === routeId);
            const days = parseInt(document.getElementById('est-days').value) || 1;
            const groupSize = parseInt(document.getElementById('est-group').value) || 1;
            const addon = document.getElementById('est-addons').value;
            
            const baseRate = ARCTREK_DATA.pricing.baseDayRate;
            let total = baseRate * days * groupSize;
            
            // Apply route-specific logistics surcharge (mock: Quttinirpaaq is remote)
            if (routeId === 'quttinirpaaq' || routeId === 'custom') {
                total *= ARCTREK_DATA.pricing.logisticsSurcharge;
            }
            
            // Apply group discount
            if (groupSize >= 6) {
                total *= ARCTREK_DATA.pricing.groupDiscount;
            }
            
            // Apply add-ons
            if (addon === 'cultural') {
                total += ARCTREK_DATA.pricing.addons.culturalImmersion * groupSize;
            }
            if (addon === 'gear') {
                total += ARCTREK_DATA.pricing.addons.gearRental * groupSize;
            }
            
            // Format and display
            const formattedPrice = Math.round(total).toLocaleString('en-CA');
            document.getElementById('estimated-price').textContent = formattedPrice;
            log(`Price estimated for ${routeId}: ${formattedPrice} CAD.`, 'info');
        }

        function renderExperience() {
            const html = `
                <section class="section container stack" id="main-content">
                    <h1>${getTranslation('title-experience')}</h1>
                    <p class="text-secondary">It's more than a trek; it's an immersive cultural journey into the heart of the Canadian Arctic.</p>

                    <h2>${getTranslation('experience-narrative')}</h2>
                    <p class="text-secondary">"A day on the trail begins with the Arctic light. After a hot breakfast, our Lead Guide, perhaps Jens Makkik, will lead a morning briefing, reviewing the Polar Beacons weather data and the route plan. We pack our day bags and set out, the only sounds the crunch of snow underfoot or the whisper of the wind. Today, we're crossing a glacial moraine. You'll learn to read the ice, listen to the guide's warnings about wind-loaded slopes, and pause for frequent wildlife observation. Lunch is a warm drink and quick snack in the shelter of a boulder. The afternoon is spent on cultural interpretation—our Inuit guides sharing stories of the land, the wildlife, and their ancestors' travel ways. In the evening, the perimeter is secured with a bear fence, dinner is prepared (often featuring local ingredients), and the day concludes with the mesmerizing glow of the midnight sun or the aurora. It is challenging, enlightening, and deeply transformative."</p>

                    ---
                    
                    <h2>${getTranslation('experience-testimonials')} (Placeholders)</h2>
                    <div class="grid grid-3">
                        <div class="card stack" role="figure" aria-label="Guest Testimonial">
                            <p style="font-style: italic;">"The Akshayuk Pass trip was a logistical marvel. Flawless safety and genuine cultural depth."</p>
                            <footer class="text-right"><small>— Dr. E. Thompson (Return Guest, 2024)</small></footer>
                        </div>
                        <div class="card stack" role="figure" aria-label="Guest Testimonial">
                            <p style="font-style: italic;">"Seeing narwhals at the floe edge, guided by a local Inuk Elder, was the trip of a lifetime. Unforgettable."</p>
                            <footer class="text-right"><small>— M. Dubois (Sirmilik, 2025)</small></footer>
                        </div>
                        <div class="card stack" role="figure" aria-label="Guest Testimonial">
                            <p style="font-style: italic;">"The self-sufficiency training for Quttinirpaaq was rigorous but necessary. I felt completely safe in the most remote place on Earth."</p>
                            <footer class="text-right"><small>— P. Sharma (Quttinirpaaq, 2023)</small></footer>
                        </div>
                    </div>

                    ---
                    
                    <h2>${getTranslation('experience-prep')}</h2>
                    <p class="text-secondary">Preparation is key to an enjoyable and safe Arctic expedition. Our guides will review your gear extensively before departure.</p>
                    <div class="grid grid-2">
                        <div class="card stack">
                            <h3>Layering System Guide</h3>
                            <ul class="text-secondary">
                                <li><strong>Base Layer:</strong> Merino wool or synthetic, non-cotton.</li>
                                <li><strong>Mid Layer:</strong> Fleece or light down for insulation.</li>
                                <li><strong>Outer Layer:</strong> Windproof, waterproof shell (Gore-Tex or equivalent).</li>
                                <li><strong>Expedition Layer:</strong> Parka/Insulated trousers (provided for extreme cold routes).</li>
                            </ul>
                        </div>
                        <div class="card stack">
                            <h3>Key Prep Tips</h3>
                            <ul class="text-secondary">
                                <li>Break in your boots BEFORE you arrive.</li>
                                <li>Practice setting up your tent and stove.</li>
                                <li>Train for carrying a pack weight of 20kg+ (45lbs+).</li>
                                <li>Acquire comprehensive travel insurance including emergency medical evacuation.</li>
                            </ul>
                        </div>
                    </div>
                    
                    ---

                    <h2>${getTranslation('experience-gallery')} (CSS Blocks)</h2>
                    <div class="grid grid-4">
                        <div style="background-color: #3B4B64; height: 150px; border-radius: var(--radius-md);" role="img" aria-label="Placeholder for Fjord Image"></div>
                        <div style="background-color: #4C5C7A; height: 150px; border-radius: var(--radius-md);" role="img" aria-label="Placeholder for Narwhal Image"></div>
                        <div style="background-color: #5D6D90; height: 150px; border-radius: var(--radius-md);" role="img" aria-label="Placeholder for Guide and Group Image"></div>
                        <div style="background-color: #6E7D9F; height: 150px; border-radius: var(--radius-md);" role="img" aria-label="Placeholder for Aurora Image"></div>
                    </div>
                </section>
            `;
            document.getElementById('app').innerHTML = html;
        }

        function renderPartnerships() {
            const partners = ARCTREK_DATA.company.partners;
            const academic = partners.filter(p => p.category.includes('Academic'));
            const logistics = partners.filter(p => p.category.includes('Aviation') || p.category.includes('Marine'));
            const film = partners.filter(p => p.category.includes('Film'));
            
            const html = `
                <section class="section container stack" id="main-content">
                    <h1>${getTranslation('title-partners')}</h1>
                    <p class="text-secondary">We collaborate with world-class organizations to ensure the highest standards of safety, logistics, and research integrity.</p>

                    <h2>${getTranslation('partners-logistics')}</h2>
                    <div class="grid grid-2">
                        ${logistics.map(p => `
                            <div class="card stack">
                                <h3>${p.name}</h3>
                                <p style="color:var(--aurora);">${p.category}</p>
                                <p class="text-secondary">${p.blurb}</p>
                            </div>
                        `).join('')}
                    </div>

                    ---

                    <h2>${getTranslation('partners-academic')} & Research</h2>
                    <div class="grid grid-2">
                        ${academic.map(p => `
                            <div class="card stack">
                                <h3>${p.name}</h3>
                                <p style="color:var(--aurora);">${p.category}</p>
                                <p class="text-secondary">${p.blurb}</p>
                            </div>
                        `).join('')}
                    </div>
                    
                    ---
                    
                    <h2>${getTranslation('partners-film')} & Media</h2>
                    <div class="grid grid-2">
                        ${film.map(p => `
                            <div class="card stack">
                                <h3>${p.name}</h3>
                                <p style="color:var(--aurora);">${p.category}</p>
                                <p class="text-secondary">${p.blurb}</p>
                            </div>
                        `).join('')}
                    </div>

                    ---
                    
                    <h2>Value Proposition for Sponsors</h2>
                    <div class="card stack">
                        <p class="text-secondary">ArcTrek offers unique co-branding opportunities for organizations committed to **sustainability, indigenous partnership, and high-performance logistics**. Your brand will be associated with uncompromising safety and authentic Arctic access.</p>
                        <ul class="text-secondary">
                            <li><strong>Authenticity:</strong> Direct connection to Inuit-led operations.</li>
                            <li><strong>Reach:</strong> Exposure to high-net-worth clients and global research/film communities.</li>
                            <li><strong>Stewardship:</strong> Alignment with leading environmental and cultural governance policies.</li>
                        </ul>
                        <p style="margin-top: var(--spacing-md);">Sample Co-Brand Guideline: All sponsored gear must meet our environmental disposal and durability standards.</p>
                    </div>
                </section>
            `;
            document.getElementById('app').innerHTML = html;
        }
        
        function renderCareers() {
            const t = ARCTREK_DATA.team;
            
            const rolesHeaders = ['Title', 'Location', 'Contract Type'];
            const rolesRows = t.openRoles.map(r => [r.title, r.location, r.contractType]);
            const rolesTable = table(rolesHeaders, rolesRows);
            
            const html = `
                <section class="section container stack" id="main-content">
                    <h1>${getTranslation('title-careers')}</h1>
                    <p class="text-secondary">Join the team that sets the standard for Arctic expeditionary logistics and cultural integrity. We seek highly motivated individuals dedicated to safety and environmental stewardship.</p>

                    <h2>${getTranslation('careers-apprenticeship')}</h2>
                    <div class="card stack">
                        <p class="text-secondary">Our multi-year apprenticeship is the primary pipeline for developing the next generation of Inuit Lead Guides. The program focuses on blending traditional knowledge (Inuit **Isuma**) with certified wilderness medical and technical skills.</p>
                        <h3>Certification Roadmap</h3>
                        <ul>
                            <li><strong>Year 1 (Field Training):</strong> WFA, basic navigation, camp logistics, cultural interpretation.</li>
                            <li><strong>Year 2 (Assistant Guide):</strong> WFR, advanced ice/glacier travel, comms protocols.</li>
                            <li><strong>Year 3 (Lead Guide Track):</strong> Advanced WEMT, AMCG/IFMGA equivalent training, bear safety/deterrence certification.</li>
                        </ul>
                        <p style="margin-top: var(--spacing-md);">**Intake Timeline:** Applications open November 1st for the following Spring cohort. Outcomes include guaranteed employment for all graduates.</p>
                    </div>

                    ---
                    
                    <h2>${getTranslation('careers-roles')}</h2>
                    ${rolesTable}
                    
                    <div class="grid grid-2" style="margin-top: var(--spacing-lg);">
                        ${t.openRoles.map(r => `
                            <div class="card stack">
                                <h3>${r.title}</h3>
                                <h4>Responsibilities:</h4>
                                <p class="text-secondary" style="font-size:0.9em;">${r.responsibilities}</p>
                                <h4>Qualifications:</h4>
                                <p class="text-secondary" style="font-size:0.9em;">${r.qualifications}</p>
                            </div>
                        `).join('')}
                    </div>

                    ---
                    
                    <h2>Application Form (Stub)</h2>
                    <form id="careers-form" class="card stack" aria-labelledby="careers-form-header">
                        <h3 id="careers-form-header">Quick Application</h3>
                        <div class="form-group"><label for="c-name">Name*</label><input type="text" id="c-name" required></div>
                        <div class="form-group"><label for="c-email">Email*</label><input type="email" id="c-email" required></div>
                        <div class="form-group"><label for="c-role">Applying For</label><select id="c-role"><option value="">Select Role</option>${t.openRoles.map(r => `<option>${r.title}</option>`).join('')}</select></div>
                        <div class="form-group"><label for="c-notes">Brief Cover Letter/Experience</label><textarea id="c-notes"></textarea></div>
                        <button type="submit" class="btn btn-primary">Submit Application</button>
                        <div id="careers-message" style="margin-top: var(--spacing-md); color: var(--aurora); font-weight: bold; display:none;" role="alert"></div>
                    </form>
                </section>
            `;
            document.getElementById('app').innerHTML = html;
            
            // Post-render: Add event listener for application stub
            document.getElementById('careers-form').addEventListener('submit', (e) => {
                e.preventDefault();
                const form = e.target;
                const messageEl = document.getElementById('careers-message');
                if (!form.checkValidity()) {
                    messageEl.textContent = 'Please fill out required fields.';
                    messageEl.style.color = 'var(--red)';
                    messageEl.style.display = 'block';
                    return;
                }
                
                form.reset();
                messageEl.textContent = 'Application received! Thank you for your interest.';
                messageEl.style.color = 'var(--aurora)';
                messageEl.style.display = 'block';
                log('Career application submitted (stub).', 'success');
                setTimeout(() => { messageEl.style.display = 'none'; }, 5000);
            });
        }
        
        function renderContact() {
            const html = `
                <section class="section container stack" id="main-content">
                    <h1>${getTranslation('title-contact')}</h1>
                    <p class="text-secondary">Reach out to our team for booking inquiries, media requests, or partnership discussions.</p>
                    
                    <div class="grid grid-2">
                        <div class="card stack">
                            <h2>${getTranslation('contact-hq')}</h2>
                            <p><strong>ArcTrek Expeditions Ltd.</strong><br>
                                Building 45, Qikiqtarjuaq, NU<br>
                                X0A 0B0, Canada</p>
                            <p><strong>Email:</strong> info@arctrek.nu</p>
                            <p><strong>Phone:</strong> +1 (867) 555-TREK (Primary)</p>
                        </div>
                        <div class="card stack">
                            <h2>Expedition Base Coordinates (Mock)</h2>
                            <p><strong>Auyuittuq Base:</strong> N 66° 56' 04" W 65° 04' 10"</p>
                            <p><strong>Quttinirpaaq Staging:</strong> N 74° 41' 58" W 94° 50' 58"</p>
                            <p class="text-secondary" style="margin-top: var(--spacing-md);"><em>Note: Base camps are remote and not open to unscheduled public access.</em></p>
                        </div>
                    </div>

                    ---
                    
                    <h2>${getTranslation('contact-form')}</h2>
                    <form id="contact-form" class="card stack" aria-labelledby="contact-form-header">
                        <h3 id="contact-form-header">Send us a Message</h3>
                        <div class="grid grid-2">
                            <div class="form-group"><label for="c-f-name">Name*</label><input type="text" id="c-f-name" required></div>
                            <div class="form-group"><label for="c-f-email">Email*</label><input type="email" id="c-f-email" required></div>
                        </div>
                        <div class="form-group">
                            <label for="c-f-subject">Inquiry Type</label>
                            <select id="c-f-subject">
                                <option>General Inquiry</option>
                                <option>Booking Follow-up</option>
                                <option>Partnership/Sponsorship</option>
                                <option>Media/Film Request</option>
                            </select>
                        </div>
                        <div class="form-group"><label for="c-f-message">Message*</label><textarea id="c-f-message" required></textarea></div>
                        
                        <button type="submit" class="btn btn-primary">Send Message</button>
                        <div id="contact-message" style="margin-top: var(--spacing-md); color: var(--aurora); font-weight: bold; display:none;" role="alert"></div>
                    </form>
                    
                    ---
                    
                    <h2>${getTranslation('contact-travel-notes')}</h2>
                    <div class="card stack">
                        <h3>Weather Buffers</h3>
                        <p class="text-secondary">Always plan for a minimum of two buffer days at the start and end of your trip due to the high probability of Arctic weather delays. North Winds Airlines operates under strict safety protocols.</p>
                        <h3>Gear Shipping</h3>
                        <p class="text-secondary">If shipping personal gear, it must be sent to our Qikiqtarjuaq HQ at least 4 weeks in advance of your departure date to ensure it makes it onto the regional logistics schedule (Ima Sealift).</p>
                    </div>
                </section>
            `;
            document.getElementById('app').innerHTML = html;

            // Post-render: Add event listener for contact stub
            document.getElementById('contact-form').addEventListener('submit', (e) => {
                e.preventDefault();
                const form = e.target;
                const messageEl = document.getElementById('contact-message');
                if (!form.checkValidity()) {
                    messageEl.textContent = 'Please fill out required fields.';
                    messageEl.style.color = 'var(--red)';
                    messageEl.style.display = 'block';
                    return;
                }
                
                form.reset();
                messageEl.textContent = 'Message sent! We will respond shortly.';
                messageEl.style.color = 'var(--aurora)';
                messageEl.style.display = 'block';
                log('Contact form submitted (stub).', 'success');
                setTimeout(() => { messageEl.style.display = 'none'; }, 5000);
            });
        }
        
        function renderPolicyPrivacy() {
            const html = `
                <section class="section container stack" id="main-content">
                    <h1>${getTranslation('title-policy')} - Privacy Policy</h1>
                    <h2>Compliance and Collection</h2>
                    <p class="text-secondary">${ARCTREK_DATA.policies.privacy}</p>
                    <h2>Data Security</h2>
                    <p class="text-secondary">We utilize encryption for data transmission and strictly control internal access to sensitive medical information. Safety is the only circumstance in which your data is rapidly deployed.</p>
                </section>
            `;
            document.getElementById('app').innerHTML = html;
        }

        function renderPolicyTerms() {
            const html = `
                <section class="section container stack" id="main-content">
                    <h1>${getTranslation('title-policy')} - Terms & Liability</h1>
                    <h2>Acceptance of Risk and Waiver</h2>
                    <p class="text-secondary">${ARCTREK_DATA.policies.terms.split('**Liability Waiver:**')[0]}**Liability Waiver:**${ARCTREK_DATA.policies.terms.split('**Liability Waiver:**')[1].split('**Cancellation Policy:**')[0]}</p>
                    <h2>Cancellation and Weather Policy</h2>
                    <p class="text-secondary">**Cancellation Policy:**${ARCTREK_DATA.policies.terms.split('**Cancellation Policy:**')[1].split('**Weather Disruptions:**')[0]}**Weather Disruptions:**${ARCTREK_DATA.policies.terms.split('**Weather Disruptions:**')[1].split('**Acceptable Use:**')[0]}</p>
                    <h2>Acceptable Use and Code of Conduct</h2>
                    <p class="text-secondary">**Acceptable Use:**${ARCTREK_DATA.policies.terms.split('**Acceptable Use:**')[1]}</p>
                </section>
            `;
            document.getElementById('app').innerHTML = html;
        }
        
        function renderStatus() {
            const incidentHeaders = [
                'Date', 
                getTranslation('status-service'), 
                getTranslation('status-severity'), 
                getTranslation('status-note'), 
                getTranslation('status-remediation')
            ];
            const incidentRows = ARCTREK_DATA.incidents.map(i => [
                i.date, 
                i.service, 
                `<span class="status-${i.severity.toLowerCase()}">${i.severity}</span>`, 
                i.note, 
                i.remediation
            ]);
            const incidentTable = table(incidentHeaders, incidentRows);
            
            const html = `
                <section class="section container stack" id="main-content">
                    <h1>${getTranslation('title-status')}</h1>
                    <p class="text-secondary">Real-time transparency on system operational status and historical incident logs.</p>

                    <h2>Current Service Status</h2>
                    <div class="card stack">
                        <h3>Core Systems: <span style="color:var(--aurora);">All Operational</span></h3>
                        <p class="text-secondary">All booking, data processing (Polar Beacons), and communications systems are operating at nominal capacity as of ${new Date().toLocaleString()}.</p>
                    </div>

                    ---

                    <h2>${getTranslation('status-log')}</h2>
                    <p class="text-secondary">A log of all operational incidents, delays, and critical events over the last 12 months.</p>
                    ${incidentTable}
                </section>
            `;
            document.getElementById('app').innerHTML = html;
        }
        
        function renderError(message) {
            log(message, 'error');
            const html = `
                <section class="section container stack" id="main-content">
                    <h1 style="color: var(--red);">404 - Expedition Lost</h1>
                    <p class="text-secondary">The requested route could not be found. ${message}</p>
                    <a href="#/" class="btn btn-primary">Return to Base Camp (Home)</a>
                </section>
            `;
            document.getElementById('app').innerHTML = html;
        }
        
    </script>
</body>
</html>